<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2017.2 (Released Jan 23, 2017) -->
<HTML>
<HEAD>
<TITLE>5. Advanced Usage</TITLE>
<META NAME="description" CONTENT="5. Advanced Usage">
<META NAME="keywords" CONTENT="html_document">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2017.2">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="html_document.css">

<LINK REL="next" HREF="node6.html">
<LINK REL="previous" HREF="node4.html">
<LINK REL="up" HREF="html_document.html">
<LINK REL="next" HREF="node6.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html297"
  HREF="node6.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html295"
  HREF="html_document.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html289"
  HREF="node4.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html298"
  HREF="node6.html">6. Installation</A>
<B> Up:</B> <A NAME="tex2html296"
  HREF="html_document.html">IMUNES manual</A>
<B> Previous:</B> <A NAME="tex2html290"
  HREF="node4.html">4. Quick Intro</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html299"
  HREF="node5.html#SECTION00510000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN> Extended Network Scenario</A>
<UL>
<LI><A NAME="tex2html300"
  HREF="node5.html#SECTION00511000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">1</SPAN> Canvas Management</A>
<LI><A NAME="tex2html301"
  HREF="node5.html#SECTION00512000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">2</SPAN> Attaching an external interface</A>
<LI><A NAME="tex2html302"
  HREF="node5.html#SECTION00513000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">3</SPAN> Attaching to a running experiment</A>
</UL>
<BR>
<LI><A NAME="tex2html303"
  HREF="node5.html#SECTION00520000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN> Additional Configuration</A>
<UL>
<LI><A NAME="tex2html304"
  HREF="node5.html#SECTION00521000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Custom configuration</A>
<LI><A NAME="tex2html305"
  HREF="node5.html#SECTION00522000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">2</SPAN> Physical and logical interfaces</A>
</UL>
<BR>
<LI><A NAME="tex2html306"
  HREF="node5.html#SECTION00530000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN> Additional Tools</A>
<UL>
<LI><A NAME="tex2html307"
  HREF="node5.html#SECTION00531000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> Splitting a link</A>
<LI><A NAME="tex2html308"
  HREF="node5.html#SECTION00532000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">2</SPAN> Generating a network topology</A>
<LI><A NAME="tex2html309"
  HREF="node5.html#SECTION00533000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">3</SPAN> IPv4 address pool</A>
<LI><A NAME="tex2html310"
  HREF="node5.html#SECTION00534000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">4</SPAN> IPv6 address pool</A>
<LI><A NAME="tex2html311"
  HREF="node5.html#SECTION00535000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">5</SPAN> Routing protocol defaults</A>
</UL>
<BR>
<LI><A NAME="tex2html312"
  HREF="node5.html#SECTION00540000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN> Customizing Look</A>
<UL>
<LI><A NAME="tex2html313"
  HREF="node5.html#SECTION00541000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN> Annotations</A>
<UL>
<LI><A NAME="tex2html314"
  HREF="node5.html#SECTION00541100000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">1</SPAN> Text</A>
<LI><A NAME="tex2html315"
  HREF="node5.html#SECTION00541200000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">2</SPAN> Freeform</A>
<LI><A NAME="tex2html316"
  HREF="node5.html#SECTION00541300000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">3</SPAN> Oval</A>
<LI><A NAME="tex2html317"
  HREF="node5.html#SECTION00541400000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">4</SPAN> Rectangle</A>
</UL>
<LI><A NAME="tex2html318"
  HREF="node5.html#SECTION00542000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN> Canvas background image</A>
<UL>
<LI><A NAME="tex2html319"
  HREF="node5.html#SECTION00542100000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Settings canvas background images</A>
</UL>
<LI><A NAME="tex2html320"
  HREF="node5.html#SECTION00543000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN> Icons</A>
<UL>
<LI><A NAME="tex2html321"
  HREF="node5.html#SECTION00543100000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> Icon size</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html322"
  HREF="node5.html#SECTION00550000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN> User-configurable Event Scheduling</A>
<UL>
<LI><A NAME="tex2html323"
  HREF="node5.html#SECTION00551000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN> Principle of operation</A>
<LI><A NAME="tex2html324"
  HREF="node5.html#SECTION00552000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN> Configuring events with events editor</A>
<UL>
<LI><A NAME="tex2html325"
  HREF="node5.html#SECTION00552100000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Const</A>
<LI><A NAME="tex2html326"
  HREF="node5.html#SECTION00552200000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">2</SPAN> Ramp</A>
<LI><A NAME="tex2html327"
  HREF="node5.html#SECTION00552300000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">3</SPAN> Rand</A>
<LI><A NAME="tex2html328"
  HREF="node5.html#SECTION00552400000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">4</SPAN> Square</A>
<LI><A NAME="tex2html329"
  HREF="node5.html#SECTION00552500000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">5</SPAN> Example</A>
</UL>
<LI><A NAME="tex2html330"
  HREF="node5.html#SECTION00553000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN> Configuring events through configuration file</A>
</UL>
<BR>
<LI><A NAME="tex2html331"
  HREF="node5.html#SECTION00560000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">6</SPAN> Starting and terminating a simulation through CLI</A>
<LI><A NAME="tex2html332"
  HREF="node5.html#SECTION00570000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">7</SPAN> Managing virtual nodes (jails) - jls, jexec</A>
<UL>
<LI><A NAME="tex2html333"
  HREF="node5.html#SECTION00571000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</UL>
<BR>
<LI><A NAME="tex2html334"
  HREF="node5.html#SECTION00580000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">8</SPAN> Himage tool</A>
<UL>
<LI><A NAME="tex2html335"
  HREF="node5.html#SECTION00581000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">8</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</UL>
<BR>
<LI><A NAME="tex2html336"
  HREF="node5.html#SECTION00590000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">9</SPAN> Hcp tool</A>
<UL>
<LI><A NAME="tex2html337"
  HREF="node5.html#SECTION00591000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">9</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</UL>
<BR>
<LI><A NAME="tex2html338"
  HREF="node5.html#SECTION005100000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">10</SPAN> Example (himage and hcp)</A>
<LI><A NAME="tex2html339"
  HREF="node5.html#SECTION005110000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">11</SPAN> Vlink tool</A>
<UL>
<LI><A NAME="tex2html340"
  HREF="node5.html#SECTION005111000000000000000"><SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">11</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00500000000000000000">
<SPAN CLASS="arabic">5</SPAN>. Advanced Usage</A>
</H1>

<H1><A NAME="SECTION00510000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN> Extended Network Scenario</A>
</H1>
In this section we will show how to extend the simple network topology (see
Section <A HREF="node4.html#sec:SimpleNetworkScenario">4.1</A>). We will explain the additional
possibilities of building and configuring the extended network scenario:

<P>
The simple network topology is placed in the <SPAN  CLASS="textit">office-canvas</SPAN> while the
additional elements are placed in the <SPAN  CLASS="textit">roadwarrior-canvas</SPAN>. The
<SPAN  CLASS="textit">roadwarrior-canvas</SPAN> consists of a router (<SPAN  CLASS="textit">roadwarrior-router</SPAN>), a
PC (<SPAN  CLASS="textit">roadwarrior</SPAN>) and a physical interface. The <SPAN  CLASS="textit">roadwarrior-router</SPAN>
is connected to the <SPAN  CLASS="textit">office-router</SPAN> on the <SPAN  CLASS="textit">office-canvas</SPAN> through
the 192.168.3.0/24 network, the PC is in the 161.53.19.0/24 network whereas the
physical interface is in the 161.53.20.0/24 network.

<P>
We will now extend the simple network from the last chapter by adding the
<SPAN  CLASS="textit">roadwarrior-router</SPAN>, <SPAN  CLASS="textit">roadwarrior</SPAN> and the physical interface all
placed on another canvas. To open an existing IMUNES network configuration file
use <SPAN  CLASS="textit">File <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Open</SPAN> from the menubar or start IMUNES with the imn file
as an argument: <TT>imunes simple-topology.imn</TT>. Check that you are in the
edit mode. If not, switch with <SPAN  CLASS="textit">Experiment <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Terminate</SPAN>.

<P>

<H2><A NAME="SECTION00511000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">1</SPAN> Canvas Management</A>
</H2>
To facilitate building of complex and large network topologies IMUNES lets you
divide the network topology into a set of network layers. These network layers
are called canvases.

<P>
Canvas management consists of two main elements:

<UL>
<LI>Canvas menu in the menubar (Figure <A HREF="node3.html#fig:canvas_menu">3.6</A>)
</LI>
<LI>List of canvas tabs at the bottom of the main window, above the
statusbar (Figure <A HREF="#fig:canvas_tabs_list">5.1</A>)
    
<DIV ALIGN="CENTER"><A NAME="fig:canvas_tabs_list"></A><A NAME="1277"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.1:</STRONG>
<SPAN  CLASS="textit">Canvas Tabs</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="422" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="./canvas_tabs_list.png"
 ALT="Image canvas_tabs_list"></TD></TR>
</TABLE>
</DIV>
</LI>
</UL>

<P>
To add a new canvas use the <SPAN  CLASS="textit">Canvas <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> New</SPAN> option from the menubar or
double click on the empty space in the canvas tabs list at the bottom of the
window.

<P>
You can rename the canvas with the <SPAN  CLASS="textit">Canvas <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Rename</SPAN> option from the
menubar or double click on the canvas tab in the canvas tabs list. (Figure
<A HREF="#fig:canvas_rename">5.2</A>) Similarly the <SPAN  CLASS="textit">Canvas <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Delete</SPAN> option
deletes the active canvas.

<DIV ALIGN="CENTER"><A NAME="fig:canvas_rename"></A><A NAME="1278"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.2:</STRONG>
<SPAN  CLASS="textit">Canvas rename dialog</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>    <BR>
<BR>
    <IMG
  WIDTH="192" HEIGHT="123" ALIGN="BOTTOM" BORDER="0"
 SRC="./canvas_rename.png"
 ALT="Image canvas_rename"></TD></TR>
</TABLE>
</DIV>

<P>
There is also the option <SPAN  CLASS="textit">Canvas <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Resize</SPAN> that allows you to define a
custom canvas size in pixels. The default canvas size is 900*620 pixels.
(Figure <A HREF="#fig:canvas_resize">5.3</A>)

<DIV ALIGN="CENTER"><A NAME="fig:canvas_resize"></A><A NAME="1279"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.3:</STRONG>
<SPAN  CLASS="textit">Canvas resize dialog</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>    <BR>
<BR>
    <IMG
  WIDTH="154" HEIGHT="142" ALIGN="BOTTOM" BORDER="0"
 SRC="./canvas_resize.png"
 ALT="Image canvas_resize"></TD></TR>
</TABLE>
</DIV>

<P>
Canvas selection can be done with the options from the <SPAN  CLASS="textit">Canvas</SPAN> menu
(<SPAN  CLASS="textit">Previous, Next, First, Last</SPAN>) or simply by clicking the tab with the
canvas name on it.

<P>
Rename the existing canvas <SPAN  CLASS="textit">Canvas0</SPAN> into <SPAN  CLASS="textit">office-canvas</SPAN>. Add a new
canvas, rename it into <SPAN  CLASS="textit">roadwarrior-canvas</SPAN> and select it as the active
canvas. 

<P>
This canvas is empty so we will add a router by selecting the router tool and
clicking on the empty canvas. Rename this router into
<SPAN  CLASS="textit">roadwarrior-router</SPAN>. Switch to the <SPAN  CLASS="textit">office-canvas</SPAN>.  Now we will
connect the <SPAN  CLASS="textit">office-router</SPAN> and the <SPAN  CLASS="textit">roadwarrior-router</SPAN>. To do that,
right click on the <SPAN  CLASS="textit">office-router</SPAN> and select <SPAN  CLASS="textit">Create link to <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN>
roadwarrior-canvas <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> roadwarrior-router</SPAN> option (Figure
<A HREF="#fig:create_link_to">5.4</A>) from the popped up menu. This will create a link
between <SPAN  CLASS="textit">roadwarrior-router</SPAN> and <SPAN  CLASS="textit">office-router</SPAN>.

<DIV ALIGN="CENTER"><A NAME="fig:create_link_to"></A><A NAME="1280"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.4:</STRONG>
<SPAN  CLASS="textit">Create link to</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>    <BR>
<BR>
    <IMG
  WIDTH="487" HEIGHT="276" ALIGN="BOTTOM" BORDER="0"
 SRC="./create_link_to.png"
 ALT="Image create_link_to"></TD></TR>
</TABLE>
</DIV>

<P>
On the <SPAN  CLASS="textit">office-router</SPAN> set the <SPAN  CLASS="textit">eth2</SPAN> interface IPv4 address to
192.168.3.1/24. On the <SPAN  CLASS="textit">roadwarrior-router</SPAN> set the <SPAN  CLASS="textit">eth0</SPAN> interface
IPv4 address to 192.168.3.2/24.  We will add another PC to the
<SPAN  CLASS="textit">roadwarrior-canvas</SPAN>, name it <SPAN  CLASS="textit">roadwarrior</SPAN> and connect it with the
<SPAN  CLASS="textit">roadwarrior-router</SPAN>. On the <SPAN  CLASS="textit">roadwarrior</SPAN> set the eth0 IPv4 address
to 161.53.19.100/24. On the <SPAN  CLASS="textit">roadwarrior-router</SPAN> set the eth1 IPv4 address
to 161.53.19.1/24.

<P>
The <SPAN  CLASS="textit">roadwarrior-router</SPAN> uses the same dynamic routing model (quagga) as
the <SPAN  CLASS="textit">office-router</SPAN> and we do not need to configure anything else on the
router. The <SPAN  CLASS="textit">roadwarrior</SPAN> uses static routes and we will need to change
the default route gateway in static routes field of the <SPAN  CLASS="textit">roadwarrior</SPAN>
configuration window to 0.0.0.0/0 161.53.19.1.

<P>
Finally, the configured network topology should look like the following (Figure
<A HREF="#fig:office_canvas">5.5</A> and Figure <A HREF="#fig:roadwarrior_canvas">5.6</A>):

<P>

<DIV ALIGN="CENTER"><A NAME="fig:office_canvas"></A><A NAME="1281"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.5:</STRONG>
<SPAN  CLASS="textit">office-canvas</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="921" HEIGHT="711" ALIGN="BOTTOM" BORDER="0"
 SRC="./office_canvas.png"
 ALT="Image office_canvas"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:roadwarrior_canvas"></A><A NAME="1282"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.6:</STRONG>
<SPAN  CLASS="textit">roadwarrior-canvas</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="921" HEIGHT="711" ALIGN="BOTTOM" BORDER="0"
 SRC="./roadwarrior_canvas.png"
 ALT="Image roadwarrior_canvas"></TD></TR>
</TABLE>
</DIV>

<P>
Both the <SPAN  CLASS="textit">roadwarrior</SPAN> and <SPAN  CLASS="textit">roadwarrior-router</SPAN> can be easily moved
from <SPAN  CLASS="textit">roadwarrior-canvas</SPAN> to <SPAN  CLASS="textit">office-canvas</SPAN> with the <SPAN  CLASS="textit">Move To
<SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> office-canvas</SPAN> from the node menu. The link between
<SPAN  CLASS="textit">roadwarrior-router</SPAN> and <SPAN  CLASS="textit">office-router</SPAN>, as well as any other link,
can be deleted with the <SPAN  CLASS="textit">Delete</SPAN> option from the <SPAN  CLASS="textit">Link</SPAN> menu. To open
the <SPAN  CLASS="textit">link</SPAN> menu, use the right click on the link and choose the
<SPAN  CLASS="textit">Delete</SPAN> option.

<P>
When we are done with network configuration, we can start the experiment with
<SPAN  CLASS="textit">Experiment <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Execute</SPAN> from the menubar. We can now check that the
<SPAN  CLASS="textit">roadwarrior</SPAN> can ping both networks (192.168.1.0/24, 192.168.2.0/24) and
additionally, that the network 192.168.1.0/24 does not have an access to the
<SPAN  CLASS="textit">roadwarrior</SPAN>, but it has access to the 192.168.2.0/24 network.

<P>

<H2><A NAME="SECTION00512000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">2</SPAN> Attaching an external interface</A>
</H2>

<P>
The <SPAN  CLASS="textit">External interface</SPAN> tool from the toolbox provides the possibility to
attach a physical interface to a virtual node. This way the virtual network is
able to communicate with nodes from the external network.

<P>
We will now add the external interface to the <SPAN  CLASS="textit">roadwarrior-canvas</SPAN>. To add
a external interface to the canvas select the <SPAN  CLASS="textit">External interface</SPAN> tool
and click on the canvas.

<P>
<SPAN  CLASS="textit">External interface</SPAN> nodes can be connected either with the LAN switch or the
router. Connect the newly created external interface with the virtual node
<SPAN  CLASS="textit">roadwarrior-router</SPAN> using the <SPAN  CLASS="textit">Link</SPAN> tool from the toolbox or the
<SPAN  CLASS="textit">Create link to</SPAN> option from the node menu.

<P>
The newly created external interface node is unassigned and in the node name
field it contains <SPAN  CLASS="textit">UNASSIGNED</SPAN>. Open the external interface configuration
window with a double click or right click on it and select the <SPAN  CLASS="textit">Configure</SPAN>
option. Choose the name of the designated physical interface in the
<SPAN  CLASS="textit">Physical interface</SPAN> drop-down list, e.g. em1, obtained from
<TT>ifconfig -a</TT> command ran on the physical machine (outside IMUNES).
(Figure <A HREF="#fig:rj45_conf">5.7</A>) The name of the physical interface will appear in
the node name label. It is also possible to assign a VLAN tag to it. (Figure
<A HREF="#fig:rj45_canvas">5.8</A>)

<P>

<DIV ALIGN="CENTER"><A NAME="fig:rj45_conf"></A><A NAME="1283"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.7:</STRONG>
<SPAN  CLASS="textit">External interface configuration dialog</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="284" HEIGHT="181" ALIGN="BOTTOM" BORDER="0"
 SRC="./rj45_conf.png"
 ALT="Image rj45_conf"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:rj45_canvas"></A><A NAME="1284"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.8:</STRONG>
<SPAN  CLASS="textit">External interface node label</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  <BR>
<BR>
  <IMG
  WIDTH="169" HEIGHT="96" ALIGN="BOTTOM" BORDER="0"
 SRC="./rj45_canvas.png"
 ALT="Image rj45_canvas"></TD></TR>
</TABLE>
</DIV>

<P>
Check that <SPAN  CLASS="textit">roadwarrior-router</SPAN> has a properly configured IP address on
the network interface connected to the physical interface. Additionally, check
that routes which route packets between virtual network and the external
network through the physical interface exist in both the external network and
in the virtual network (on <SPAN  CLASS="textit">roadwarrior-router</SPAN>).

<P>
Save this configuration to a new file by selecting the <SPAN  CLASS="textit">Save as</SPAN> option
from the <SPAN  CLASS="textit">File</SPAN> menu. Name the file <TT>extended-topology.imn</TT>.

<P>

<H2><A NAME="SECTION00513000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">3</SPAN> Attaching to a running experiment</A>
</H2>
IMUNES gives you the possibility to run multiple independent experiments on one
physical computer. Therefore, we added the possibility of attaching to running
experiments through the IMUNES GUI. In the <SPAN  CLASS="textit">Experiment</SPAN> menu, select the
option <SPAN  CLASS="textit">Attach to experiment</SPAN>. A dialog similar to
<A HREF="#fig:attach_to_experiment">5.9</A> is opened. Here you can select on which
experiment you would like to attach. You can attach to all experiments, those
that were started using batch mode and those that were executed from the GUI.
The window shows the following experiment parameters:

<P>

<UL>
<LI>Experiment ID
</LI>
<LI>Filename of the topology
</LI>
<LI>Time when the experiment was started.
</LI>
<LI>Experiment screenshot (only if it was started through the GUI)
</LI>
</UL>

<P>
To attach to the you can double-click it's entry or use the <SPAN  CLASS="textit">Resume selected
experiment</SPAN> button.

<DIV ALIGN="CENTER"><A NAME="fig:attach_to_experiment"></A><A NAME="1285"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.9:</STRONG>
<SPAN  CLASS="textit">Attach to experiment window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  <BR>
<BR>
  <IMG
  WIDTH="782" HEIGHT="289" ALIGN="BOTTOM" BORDER="0"
 SRC="./attach_to_experiment.png"
 ALT="Image attach_to_experiment"></TD></TR>
</TABLE>
</DIV>


<H1><A NAME="SECTION00520000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN> Additional Configuration</A>
</H1>

<P>

<H2><A NAME="SECTION00521000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Custom configuration</A>
</H2>

<P>
The configuration window of each network layer node (PC, Host, Router, NAT64
and Click router) also has the <SPAN  CLASS="textit">Custom startup configuration</SPAN> field. In
order to view or edit the generated startup configuration click on the
<SPAN  CLASS="textit">Editor</SPAN> button as shown in Figure <A HREF="#fig:config_tab">5.10</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:config_tab"></A><A NAME="1464"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.10:</STRONG>
<SPAN  CLASS="textit">Configuration tab</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="517" HEIGHT="353" ALIGN="BOTTOM" BORDER="0"
 SRC="./configuration_tab.png"
 ALT="Image configuration_tab"></TD></TR>
</TABLE>
</DIV>

<P>
In a newly opened window, write a new configuration name and click
<SPAN  CLASS="textit">Create</SPAN>. An empty configuration file will be created. By clicking on
<SPAN  CLASS="textit">Fill defaults</SPAN>, in case of a non-router network layer node or a router
node with the static routing model, the default configuration consists of
<SPAN  CLASS="textit">ifconfig</SPAN> and <SPAN  CLASS="textit">route</SPAN> commands with the <TT>/bin/sh</TT> shell.
Figure <A HREF="#fig:custom_config">5.11</A> shows the created default configuration.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:custom_config"></A><A NAME="1465"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.11:</STRONG>
<SPAN  CLASS="textit">Custom configuration window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="590" HEIGHT="477" ALIGN="BOTTOM" BORDER="0"
 SRC="./custom_configuration.png"
 ALT="Image custom_configuration"></TD></TR>
</TABLE>
</DIV>

<P>
It is possible to add custom commands that will be executed at the boot time.
When finished, click on the <SPAN  CLASS="textit">Apply</SPAN> or <SPAN  CLASS="textit">Apply and Close</SPAN> button to
save the changes. When you have multiple configurations, you can choose the
default one in the <SPAN  CLASS="textit">Default configuration</SPAN> drop-down menu. To delete a
configuration, select its tab and click <SPAN  CLASS="textit">Delete config</SPAN> button.

<P>
<SPAN  CLASS="textbf">NOTE:</SPAN> After starting the network simulation, the new/custom
configuration will be considered only if <SPAN  CLASS="textit">Custom startup configuration</SPAN> is
enabled. This is done by checking the <SPAN  CLASS="textit">Enabled</SPAN> check box in the
<SPAN  CLASS="textit">Custom startup config</SPAN> field in Figure <A HREF="#fig:config_tab">5.10</A>.

<P>

<H2><A NAME="SECTION00522000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">2</SPAN> Physical and logical interfaces</A>
</H2>

<P>
When the Interfaces tab is opened, a configuration window similar to the one
shown in Figure <A HREF="#fig:phys_log_ifc">5.12</A> is shown to the user. The Physical
Interfaces list represents actual interfaces connected to links in IMUNES. Thus
we can see that the selected node has one link in IMUNES.

<P>
IMUNES also offers the feature to configure additional logical interfaces. By
default only one logical interface is added: <TT>lo0</TT> - the loopback
interface with the following addresses: <TT>127.0.0.1</TT> for IPv4 and
<TT>::1</TT> for IPv6. 

<P>

<DIV ALIGN="CENTER"><A NAME="fig:phys_log_ifc"></A><A NAME="1466"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.12:</STRONG>
<SPAN  CLASS="textit">Physical and logical interfaces</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="517" HEIGHT="513" ALIGN="BOTTOM" BORDER="0"
 SRC="./physical_logical_interfaces.png"
 ALT="Image physical_logical_interfaces"></TD></TR>
</TABLE>
</DIV>

<P>
Users can configure additional logical interfaces by clicking on the Logical
Interfaces item in the Interfaces list. The Logical Interfaces configuration
window is show in Figure <A HREF="#fig:logical_ifcs">5.13</A>.  At the moment IMUNES supports
two types of logical interfaces: <TT>lo</TT> and <TT>vlan</TT>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:logical_ifcs"></A><A NAME="1467"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.13:</STRONG>
<SPAN  CLASS="textit">Logical interfaces management</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="517" HEIGHT="518" ALIGN="BOTTOM" BORDER="0"
 SRC="./logical_interfaces.png"
 ALT="Image logical_interfaces"></TD></TR>
</TABLE>
</DIV>

<P>
Figure <A HREF="#fig:vlan_logical_ifcs">5.14</A> shows an example for setting up a
<TT>vlan</TT> logical interface <TT>vlan0</TT> on a physical interface
<TT>eth0</TT> with an arbitrary tag <TT>10</TT> and an IPv4 address
<TT>10.0.0.1/24</TT>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:vlan_logical_ifcs"></A><A NAME="1468"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.14:</STRONG>
<SPAN  CLASS="textit">Logical interfaces management</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="517" HEIGHT="518" ALIGN="BOTTOM" BORDER="0"
 SRC="./vlan_logical_interfaces.png"
 ALT="Image vlan_logical_interfaces"></TD></TR>
</TABLE>
</DIV>

<P>

<H1><A NAME="SECTION00530000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN> Additional Tools</A>
</H1>

<H2><A NAME="SECTION00531000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> Splitting a link</A>
</H2>
Links can be split in two separate parts and it is possible to change location
of both of its parts after selecting it with the <SPAN  CLASS="textit">Select tool</SPAN>. Right
click on the link and than left click on the <SPAN  CLASS="textit">Split label</SPAN> in the pop-up
menu to split the link in two halves. Separated link parts can be merged back
with the <SPAN  CLASS="textit">Merge</SPAN> option from the link menu. This feature is shown in
Figure <A HREF="#fig:split_link">5.15</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:split_link"></A><A NAME="1648"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.15:</STRONG>
<SPAN  CLASS="textit">Split link</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="583" HEIGHT="254" ALIGN="BOTTOM" BORDER="0"
 SRC="./split_link.png"
 ALT="Image split_link"></TD></TR>
</TABLE>
</DIV>

<P>

<H2><A NAME="SECTION00532000000000000000"></A>
<A NAME="sec:GeneratingNetworkTopology"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">2</SPAN> Generating a network topology
</H2>
<SPAN  CLASS="textit">TopoGen</SPAN> menu from the menubar enables easier and faster generation of
network topologies (Figure <A HREF="#fig:topogen_menu_star">5.16</A>). This function can be
used to generate following topologies: <SPAN  CLASS="textit">Chain, Star, Cycle, Wheel, Cube,
Clique, Bipartite</SPAN> or <SPAN  CLASS="textit">Random</SPAN>. 

<P>

<DIV ALIGN="CENTER"><A NAME="fig:topogen_menu_star"></A><A NAME="1649"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.16:</STRONG>
<SPAN  CLASS="textit">TopoGen menu</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="140" HEIGHT="251" ALIGN="BOTTOM" BORDER="0"
 SRC="./topogen_menu_star.png"
 ALT="Image topogen_menu_star"></TD></TR>
</TABLE>
</DIV>

<P>
Some examples can be seen in Figure <A HREF="#fig:star">5.17</A>, Figure <A HREF="#fig:bipartite">5.18</A>
and Figure <A HREF="#fig:wheel">5.19</A>. In order to generate a topology first select the
network layer nodes (router, host or PC) from the toolbox and then the desired
topology type e.g. bipartite graph K(2,3) (see Figure <A HREF="#fig:bipartite">5.18</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:star"></A><A NAME="1650"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.17:</STRONG>
<SPAN  CLASS="textit">Star topology</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="1022" HEIGHT="778" ALIGN="BOTTOM" BORDER="0"
 SRC="./star.png"
 ALT="Image star"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:bipartite"></A><A NAME="1651"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.18:</STRONG>
<SPAN  CLASS="textit">Bipartite topology</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="1022" HEIGHT="778" ALIGN="BOTTOM" BORDER="0"
 SRC="./bipartite.png"
 ALT="Image bipartite"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:wheel"></A><A NAME="1652"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.19:</STRONG>
<SPAN  CLASS="textit">Wheel topology</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="1022" HEIGHT="778" ALIGN="BOTTOM" BORDER="0"
 SRC="./wheel.png"
 ALT="Image wheel"></TD></TR>
</TABLE>
</DIV>

<P>
In case of <SPAN  CLASS="textit">random</SPAN> topology an additional information is needed, so
beside the number of the nodes it is also necessary to specify the number of
links. The nodes in the random topology will be randomly connected with the
number of links specified before. An example of generating a <SPAN  CLASS="textit">random</SPAN>
topology: 
  
<OL>
<LI>Select the router tool from the toolbox.
</LI>
<LI>Choose the random topology: <SPAN  CLASS="textit">TopoGen <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Random</SPAN>
</LI>
<LI>Choose the desired number of nodes and links e.g. n = 6; m = 5, where n
is the number of nodes and  m  the number of links in the generated network
topology (<SPAN  CLASS="textit">Random <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> R(6,m) <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> R(6,5)</SPAN>). 
 
</LI>
</OL>
 The result is shown in Figure <A HREF="#fig:random">5.20</A>. 

<P>

<DIV ALIGN="CENTER"><A NAME="fig:random"></A><A NAME="1653"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.20:</STRONG>
<SPAN  CLASS="textit">Random topology</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="1022" HEIGHT="778" ALIGN="BOTTOM" BORDER="0"
 SRC="./random.png"
 ALT="Image random"></TD></TR>
</TABLE>
</DIV>

<P>
Using the <SPAN  CLASS="textit">TopoGen</SPAN> tool you can generate topologies containing one type
of node (router, host or PC). In that case, new nodes of the same type are
created and placed on the canvas. Another option is to add new nodes to canvas
and then connect them using the topology generator:

<OL>
<LI>Add nodes to the canvas (don't have to be same type). 
</LI>
<LI>Select nodes that should be included in the new topology
</LI>
<LI>Right click on one of the selected nodes and choose the option
<SPAN  CLASS="textit">Create Link to</SPAN> from the menu. Choose the option <SPAN  CLASS="textit">Selected</SPAN> and
select one of the offered topologies (<SPAN  CLASS="textit">Chain, Star, Cycle, Clique</SPAN> or
<SPAN  CLASS="textit">Random</SPAN>). An example is shown in Figure <A HREF="#fig:connect">5.21</A>. 
</LI>
</OL>

<P>
In addition to that, it is also possible to transform existing nodes:

<OL>
<LI>Select nodes that should be transformed
</LI>
<LI>Right click on one of the selected nodes and choose the option
<SPAN  CLASS="textit">Transform to</SPAN> from the menu. Select one of the offered options
(<SPAN  CLASS="textit">Router, PC</SPAN> or <SPAN  CLASS="textit">Host</SPAN>). An example is shown in Figure
<A HREF="#fig:transform">5.22</A>.
</LI>
</OL>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:connect"></A><A NAME="1654"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.21:</STRONG>
<SPAN  CLASS="textit">Example of creating a network topology with existing nodes</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="1022" HEIGHT="1600" ALIGN="BOTTOM" BORDER="0"
 SRC="./connect_1connect_2.png"
 ALT="Image connect_1connect_2"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:transform"></A><A NAME="1655"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.22:</STRONG>
<SPAN  CLASS="textit">Example of transforming existing network layer nodes</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="1022" HEIGHT="1600" ALIGN="BOTTOM" BORDER="0"
 SRC="./transform.png"
 ALT="Image transform"></TD></TR>
</TABLE>
</DIV>

<P>

<H2><A NAME="SECTION00533000000000000000"></A>
<A NAME="sec:IPv4AddressPool"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">3</SPAN> IPv4 address pool
</H2>
<SPAN  CLASS="textit">IPv4 address pool</SPAN> option from the <SPAN  CLASS="textit">Tools</SPAN> menu is used for
replacing default 10.0.0.0/24 address pool. Choosing that option invokes a
dialog shown in Figure <A HREF="#fig:ipv4_addr_pool">5.23</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:ipv4_addr_pool"></A><A NAME="1656"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.23:</STRONG>
<SPAN  CLASS="textit">IPv4 address pool dialog</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="349" HEIGHT="127" ALIGN="BOTTOM" BORDER="0"
 SRC="./ipv4_addr_pool.png"
 ALT="Image ipv4_addr_pool"></TD></TR>
</TABLE>
</DIV>

<P>
In order to replace default 10.0.0.0/24 address pool, set variable-mask IPv4
address pool through the invoked dialog. CIDR notation is required, so the IPv4
address needs to be followed by a slash and a network length. To apply changes
click on the <SPAN  CLASS="textit">Apply</SPAN> button. The given address pool will be applied to all
the subsequentially created network layer elements (Figure
<A HREF="#fig:ipv4_addr_pool_example">5.24</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:ipv4_addr_pool_example"></A><A NAME="1657"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.24:</STRONG>
<SPAN  CLASS="textit">IPv4 address pool example</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="1022" HEIGHT="778" ALIGN="BOTTOM" BORDER="0"
 SRC="./ipv4_addr_pool_example.png"
 ALT="Image ipv4_addr_pool_example"></TD></TR>
</TABLE>
</DIV>

<P>
In order to apply the given address pool to selected elements, right click on
the network layer element and choose the option <SPAN  CLASS="textit">IPv4 autorenumber</SPAN> from
the popped up menu. In example shown in Figure
<A HREF="#fig:ipv4_autorenumber_example">5.25</A> we have set IPv4 address pool to
160.153.1.1/24, selected all network elements and selected the option
<SPAN  CLASS="textit">IPv4 autorenumber</SPAN> from the node menu to apply the given address pool to
selected elements.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:ipv4_autorenumber_example"></A><A NAME="1658"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.25:</STRONG>
<SPAN  CLASS="textit">IPv4 autorenumber example</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="1022" HEIGHT="1611" ALIGN="BOTTOM" BORDER="0"
 SRC="./ipv4_autorenumber_example.png"
 ALT="Image ipv4_autorenumber_example"></TD></TR>
</TABLE>
</DIV>

<P>

<H2><A NAME="SECTION00534000000000000000"></A>
<A NAME="sec:IPv6AddressPool"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">4</SPAN> IPv6 address pool
</H2>
<SPAN  CLASS="textit">IPv6 address pool</SPAN> option from the <SPAN  CLASS="textit">Tools</SPAN> menu is used for
replacing default fc00::/64 address pool.
The procedure for setting the IPv6 address pool is the same as for setting the IPv4 address pool.

<P>

<H2><A NAME="SECTION00535000000000000000"></A>
<A NAME="sec:RoutingProtocolDefaults"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">5</SPAN> Routing protocol defaults
</H2>
In the <SPAN  CLASS="textit">Tools</SPAN> menu you can find the <SPAN  CLASS="textit">Routing protocol defaults</SPAN>
option. Selecting this option invokes a popup window shown in Figure
<A HREF="#fig:router_def_1">5.26</A>. Just as a reminder, settings referring to routing
protocols can be also changed in the <SPAN  CLASS="textit">router configuration</SPAN> window. The
difference is that changes made there are applied only to the router that is
being configured. This tool in contrary makes it possible to apply changes to
one or more selected routers. If there is no router selected than the changes
will be applied to subsequentially created routers. Note that this option will
be disabled when the experiment starts.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:router_def_1"></A><A NAME="1659"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.26:</STRONG>
<SPAN  CLASS="textit">Router defaults window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>
<BR>
<BR>
<IMG
  WIDTH="222" HEIGHT="161" ALIGN="BOTTOM" BORDER="0"
 SRC="./router_defaults_1.png"
 ALT="Image router_defaults_1"></TD></TR>
</TABLE>
</DIV>


<H1><A NAME="SECTION00540000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN> Customizing Look</A>
</H1>

<H2><A NAME="SECTION00541000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN> Annotations</A>
</H2>
To emphasize some parts of the network topology, you can add various graphic
elements to the canvas. These elements are divided into three groups:

<UL>
<LI>Text
</LI>
<LI>Freeform
</LI>
<LI>Oval
</LI>
<LI>Rectangle
</LI>
</UL>
Each of these elements have their own tools in the toolbox: <SPAN  CLASS="textit">Text</SPAN> tool
(Figure <A HREF="#fig:text">5.27</A>), <SPAN  CLASS="textit">Freeform</SPAN> tool (Figure <A HREF="#fig:freeform">5.28</A>),
<SPAN  CLASS="textit">Oval</SPAN> tool (Figure <A HREF="#fig:oval">5.29</A>) and <SPAN  CLASS="textit">Rectangle</SPAN> tool (Figure
<A HREF="#fig:rectangle">5.30</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:text"></A><A NAME="1974"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.27:</STRONG>
<SPAN  CLASS="textit">Text tool</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  <BR>
<BR>
  <IMG
  WIDTH="40" HEIGHT="40" ALIGN="BOTTOM" BORDER="0"
 SRC="./text_tool.png"
 ALT="Image text_tool"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:freeform"></A><A NAME="1975"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.28:</STRONG>
<SPAN  CLASS="textit">Freeform tool</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  <BR>
<BR>
  <IMG
  WIDTH="42" HEIGHT="41" ALIGN="BOTTOM" BORDER="0"
 SRC="./freeform_tool.png"
 ALT="Image freeform_tool"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:oval"></A><A NAME="1976"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.29:</STRONG>
<SPAN  CLASS="textit">Oval tool</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  <BR>
<BR>
  <IMG
  WIDTH="40" HEIGHT="40" ALIGN="BOTTOM" BORDER="0"
 SRC="./oval_tool.png"
 ALT="Image oval_tool"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:rectangle"></A><A NAME="1977"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.30:</STRONG>
<SPAN  CLASS="textit">Rectangle tool</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  <BR>
<BR>
  <IMG
  WIDTH="40" HEIGHT="40" ALIGN="BOTTOM" BORDER="0"
 SRC="./rectangle_tool.png"
 ALT="Image rectangle_tool"></TD></TR>
</TABLE>
</DIV>

<P>
To add an annotation to the canvas, select the appropriate tool and click (and
drag) where you want to add the annotation. A popup window will be shown. There
you can define how will the annotation look.

<P>
When created, annotations can be moved around on the canvas. This is done by
using the select tool. Click on the annotation and then drag it to its
destination.

<P>

<H3><A NAME="SECTION00541100000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">1</SPAN> Text</A>
</H3>
The text annotation lets you define the following options(Figure
<A HREF="#fig:text_conf">5.31</A>):

<UL>
<LI><SPAN  CLASS="textit">Text color</SPAN> - color of the text in RGB values
</LI>
<LI><SPAN  CLASS="textit">Font</SPAN> - which system font, size and style you want to use
</LI>
</UL>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:text_conf"></A><A NAME="1978"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.31:</STRONG>
<SPAN  CLASS="textit">Text configuration window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="318" HEIGHT="143" ALIGN="BOTTOM" BORDER="0"
 SRC="./text_conf.png"
 ALT="Image text_conf"></TD></TR>
</TABLE>
</DIV>

<P>

<H3><A NAME="SECTION00541200000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">2</SPAN> Freeform</A>
</H3>
The freeform configuration window includes:

<UL>
<LI><SPAN  CLASS="textit">Line color</SPAN> - which line color to use
</LI>
<LI><SPAN  CLASS="textit">Width</SPAN> - line width to use
</LI>
</UL>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:freeform_conf"></A><A NAME="1979"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.32:</STRONG>
<SPAN  CLASS="textit">Freeform configuration window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="234" HEIGHT="147" ALIGN="BOTTOM" BORDER="0"
 SRC="./freeform_conf.png"
 ALT="Image freeform_conf"></TD></TR>
</TABLE>
</DIV>

<P>

<H3><A NAME="SECTION00541300000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">3</SPAN> Oval</A>
</H3>
The size of the oval annotation is defined by dragging the cursor on the canvas
while keeping the left mouse button pressed. When the annotation size seems to
be fine, release the mouse button. The oval configuration window will popup
(Figure <A HREF="#fig:oval_conf">5.33</A>).

<P>
The oval annotation lets you define the following additional options (Figure
<A HREF="#fig:oval_conf">5.33</A>):

<UL>
<LI><SPAN  CLASS="textit">Fill color</SPAN> - color of the annotation fill in RGB values.
</LI>
<LI><SPAN  CLASS="textit">Border color</SPAN> - color of the annotation border in RGB values.
</LI>
<LI><SPAN  CLASS="textit">Border width</SPAN> - width of the annotation border.
</LI>
</UL>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:oval_conf"></A><A NAME="1980"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.33:</STRONG>
<SPAN  CLASS="textit">Oval configuration window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="387" HEIGHT="147" ALIGN="BOTTOM" BORDER="0"
 SRC="./oval_conf.png"
 ALT="Image oval_conf"></TD></TR>
</TABLE>
</DIV>

<P>

<H3><A NAME="SECTION00541400000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">4</SPAN> Rectangle</A>
</H3>
The rectangle configuration window has the same options as the oval
configuration window. The rectangle size is defined the same way as the size of
the oval.

<P>
The rectangle annotation lets you define the following additional options
(Figure <A HREF="#fig:rectangle_conf">5.34</A>):

<UL>
<LI><SPAN  CLASS="textit">Radius of the bend at the corners</SPAN> - defines roundness of the
rectangle edges.
</LI>
</UL>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:rectangle_conf"></A><A NAME="1981"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.34:</STRONG>
<SPAN  CLASS="textit">Rectangle configuration window</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="418" HEIGHT="192" ALIGN="BOTTOM" BORDER="0"
 SRC="./rectangle_conf.png"
 ALT="Image rectangle_conf"></TD></TR>
</TABLE>
</DIV>

<P>
Example of the annotations usage is shown in Figure <A HREF="#fig:annotations_example">5.35</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:annotations_example"></A><A NAME="1982"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.35:</STRONG>
<SPAN  CLASS="textit">Annotations example</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="1022" HEIGHT="778" ALIGN="BOTTOM" BORDER="0"
 SRC="./annotations_example.png"
 ALT="Image annotations_example"></TD></TR>
</TABLE>
</DIV>

<P>

<H2><A NAME="SECTION00542000000000000000"></A>
<A NAME="sec:CanvasBackgroundImage"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN> Canvas background image
</H2>

<P>
The options for changing the canvas background image are accessible through the
<SPAN  CLASS="textit">Canvas</SPAN> and <SPAN  CLASS="textit">View</SPAN> menu and through the menu that is opened with a
right click on the empty canvas (Figure <A HREF="node3.html#fig:canvas_menu">3.6</A> and Figure
<A HREF="#fig:background_image_menu">5.36</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:background_image_menu"></A><A NAME="1983"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.36:</STRONG>
<SPAN  CLASS="textit">Background image menu</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="273" HEIGHT="131" ALIGN="BOTTOM" BORDER="0"
 SRC="./background_image_menu.png"
 ALT="Image background_image_menu"></TD></TR>
</TABLE>
</DIV>

<P>
All options related to the canvas background are accessible in the
<SPAN  CLASS="textit">Background image</SPAN> menu (Figure <A HREF="#fig:background_image_menu">5.36</A>):

<UL>
<LI><SPAN  CLASS="textit">Show background</SPAN> - Show or hide the canvas background.
</LI>
<LI><SPAN  CLASS="textit">Change background</SPAN> - Opens the <SPAN  CLASS="textit">Change canvas background</SPAN>
window (Figure <A HREF="#fig:change_canvas_background">5.37</A>).
</LI>
<LI><SPAN  CLASS="textit">Remove background</SPAN> - Removes the background from the current
canvas.
</LI>
<LI><SPAN  CLASS="textit">Set background from</SPAN> - Sets the background from an another
canvas.
</LI>
</UL>

<P>
To set a canvas background you need to open the <SPAN  CLASS="textit">Change canvas background</SPAN>
window (Figure <A HREF="#fig:change_canvas_background">5.37</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:change_canvas_background"></A><A NAME="1984"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.37:</STRONG>
<SPAN  CLASS="textit">Change canvas background</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="562" HEIGHT="267" ALIGN="BOTTOM" BORDER="0"
 SRC="./change_canvas_background.png"
 ALT="Image change_canvas_background"></TD></TR>
</TABLE>
</DIV>

<P>
This window is divided into two main parts:

<UL>
<LI>Left pane with the canvas background options
    
<UL>
<LI>Field and button for choosing the background image
</LI>
<LI>Image setting options
</LI>
<LI>Image alignment options
</LI>
<LI>Additional information if imagemagick is not present (Figure
<A HREF="#fig:imagemagick_warning">5.38</A>)
    
</LI>
</UL>
</LI>
<LI>Right pane with canvas and image information and preview
    
<UL>
<LI>Canvas size information
</LI>
<LI>Image preview
</LI>
<LI>Image size information
    
</LI>
</UL>
</LI>
</UL>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:imagemagick_warning"></A><A NAME="1985"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.38:</STRONG>
<SPAN  CLASS="textit">Warning if ImageMagick is not present</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="596" HEIGHT="267" ALIGN="BOTTOM" BORDER="0"
 SRC="./imagemagick_warning.png"
 ALT="Image imagemagick_warning"></TD></TR>
</TABLE>
</DIV>

<P>
When the image is selected there are four image setting modes that can be chosen:

<UL>
<LI><SPAN  CLASS="textit">Use original/cropped image</SPAN> - If the image is smaller it will
be placed in the position defined by the image alignment. If the image is
larger  it will be cropped. The image alignment will define which part of the
image will be taken as the background.
</LI>
<LI><SPAN  CLASS="textit">Stretch/shrink image</SPAN> - If the image is smaller it will be
stretched without changing the proportions. If the image is larger it will be
shrunk without changing the proportions. The image alignment will define which
part of the image will be taken as the background.
</LI>
<LI><SPAN  CLASS="textit">Adjust canvas to image</SPAN> - The canvas will be resized to the
image size and then the background image will be set.
</LI>
<LI><SPAN  CLASS="textit">Adjust image to canvas</SPAN> - The image will be forcibly resized to
the canvas size with changed proportions if needed.
</LI>
</UL>

<P>

<H3><A NAME="SECTION00542100000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Settings canvas background images</A>
</H3>

<P>
We will use the extended topology example (<SPAN  CLASS="textit">extended-topology.imn</SPAN>) to set
canvas background images. On the <SPAN  CLASS="textit">office-canvas</SPAN> we will set a background
image. Then we will go to the <SPAN  CLASS="textit">roadwarrior-canvas</SPAN> and set that same image
using the <SPAN  CLASS="textit">Set background from <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> office-canvas</SPAN> option (Figure
<A HREF="#fig:set_background_from">5.39</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:set_background_from"></A><A NAME="1986"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.39:</STRONG>
<SPAN  CLASS="textit">Set background from menu</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="297" HEIGHT="119" ALIGN="BOTTOM" BORDER="0"
 SRC="./set_background_from.png"
 ALT="Image set_background_from"></TD></TR>
</TABLE>
</DIV>

<P>
The final result is shown in Figure <A HREF="#fig:canvas_background_example_1">5.40</A> and
Figure <A HREF="#fig:canvas_background_example_2">5.41</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:canvas_background_example_1"></A><A NAME="1987"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.40:</STRONG>
<SPAN  CLASS="textit">Canvas background example on office-canvas</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="1086" HEIGHT="790" ALIGN="BOTTOM" BORDER="0"
 SRC="./canvas_background_example_1.png"
 ALT="Image canvas_background_example_1"></TD></TR>
</TABLE>
</DIV>

<P>

<DIV ALIGN="CENTER"><A NAME="fig:canvas_background_example_2"></A><A NAME="1988"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.41:</STRONG>
<SPAN  CLASS="textit">Canvas background example on roadwarrior-canvas</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV><IMG
  WIDTH="1086" HEIGHT="790" ALIGN="BOTTOM" BORDER="0"
 SRC="./canvas_background_example_2.png"
 ALT="Image canvas_background_example_2"></TD></TR>
</TABLE>
</DIV>

<P>

<H2><A NAME="SECTION00543000000000000000"></A>
<A NAME="sec:Icons"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN> Icons
</H2>
IMUNES lets you choose custom node icons. First, select the nodes whose icons
you want to change. Then right click on the selection and then go to the
<SPAN  CLASS="textit">Node icon <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> Change node icons</SPAN> option (Figure
<A HREF="#fig:node_icon_menu">5.42</A>). This menu has also the <SPAN  CLASS="textit">Set default icons</SPAN>
option that sets the default node icon for the selected icons.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:node_icon_menu"></A><A NAME="1989"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.42:</STRONG>
<SPAN  CLASS="textit">Node icon menu</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="332" HEIGHT="300" ALIGN="BOTTOM" BORDER="0"
 SRC="./node_icon_menu.png"
 ALT="Image node_icon_menu"></TD></TR>
</TABLE>
</DIV>

<P>
The <SPAN  CLASS="textit">Change node icons</SPAN> option opens the <SPAN  CLASS="textit">Set custom icon</SPAN> window
(Figure <A HREF="#fig:set_custom_icon">5.43</A>).

<P>

<DIV ALIGN="CENTER"><A NAME="fig:set_custom_icon"></A><A NAME="1990"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.43:</STRONG>
<SPAN  CLASS="textit">Set custom icon</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="432" HEIGHT="264" ALIGN="BOTTOM" BORDER="0"
 SRC="./set_custom_icon.png"
 ALT="Image set_custom_icon"></TD></TR>
</TABLE>
</DIV>

<P>
This window is divided into two main parts (Figure <A HREF="#fig:set_custom_icon">5.43</A>):

<UL>
<LI>Left pane for choosing custom icons
    
<UL>
<LI>List of library and custom icons on the top. Every icon that has
been used or is being used in the project will be available at the end of the
list, and will be given a generic name (e.g. img0, img5).
</LI>
<LI>Field and button for choosing the custom icon
    
</LI>
</UL>
</LI>
<LI>Right pane with the icon preview and icon size information
</LI>
</UL>

<P>
We will now open the <SPAN  CLASS="textit">extended-topology.imn</SPAN> file and set a custom icon.
We will choose the library icon <SPAN  CLASS="textit">ipfirewall.gif</SPAN> for the
<SPAN  CLASS="textit">roadwarrior-router</SPAN>. The final result is shown on Figure
<A HREF="#fig:changed_node_icon">5.44</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:changed_node_icon"></A><A NAME="1991"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.44:</STRONG>
<SPAN  CLASS="textit">Changed roadwarrior-router icon</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="1038" HEIGHT="775" ALIGN="BOTTOM" BORDER="0"
 SRC="./changed_node_icon.png"
 ALT="Image changed_node_icon"></TD></TR>
</TABLE>
</DIV>

<P>

<H3><A NAME="SECTION00543100000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> Icon size</A>
</H3>
If you want to emphasize the information about nodes, interfaces and links
instead of node icons you can change the icon size through the <SPAN  CLASS="textit">View <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN>
Icon size</SPAN> option (Figure <A HREF="#fig:icon_size">5.45</A>).

<DIV ALIGN="CENTER"><A NAME="fig:icon_size"></A><A NAME="1992"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.45:</STRONG>
<SPAN  CLASS="textit">Icon size menu</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="279" HEIGHT="81" ALIGN="BOTTOM" BORDER="0"
 SRC="./icon_size.png"
 ALT="Image icon_size"></TD></TR>
</TABLE>
</DIV>

<P>
Let's take the <TT>simple-topology.imn</TT> example and set the icon size to
small. (Figure <A HREF="#fig:icon_size_example">5.46</A>)

<P>
Currently, only two sizes are available, normal and small. Otherwise, custom
icons can be used.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:icon_size_example"></A><A NAME="1993"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.46:</STRONG>
<SPAN  CLASS="textit">Icon size example</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="1038" HEIGHT="775" ALIGN="BOTTOM" BORDER="0"
 SRC="./icon_size_example.png"
 ALT="Image icon_size_example"></TD></TR>
</TABLE>
</DIV>


<H1><A NAME="SECTION00550000000000000000"></A>
<A NAME="sec:using_event_scheduler"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN> User-configurable Event Scheduling
</H1>
This section describes a feature for scheduling of arbitrary deterministic and
stochastic events during experiment execution.

<H2><A NAME="SECTION00551000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">1</SPAN> Principle of operation</A>
</H2>
The control plane in IMUNES is extended to retain control over the experiment
execution after initial topology instantiation, allowing for user-scheduled
events to influence selected parameters during run time.
The current implementation allows for the event scheduler to assume control
over selected link properties such as:

<UL>
<LI>bandwidth
</LI>
<LI>delay
</LI>
<LI>bit error rate
</LI>
<LI>packet duplication
</LI>
<LI>visual attributes

<UL>
<LI>line width
</LI>
<LI>line color
</LI>
</UL>
</LI>
</UL>

<P>
The event scheduler supports two general classes of schedulable events:
one-time changes and periodic functions. 

<P>
One-time events update the selected parameter at requested point in time,
leaving that parameter constant throughout rest of the experiment execution, or
until another event updates it to a new value at some later point in time. 

<P>
Periodic functions allow for time-variant functions to be applied to selected
parameters by specifying those functions as single events. Subsequently
scheduled events acting upon the same parameter will cancel the current
periodic function and replace it with either a constant value or another
periodic function.

<P>

<H2><A NAME="SECTION00552000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN> Configuring events with events editor</A>
</H2>
Events can be specified in the <SPAN  CLASS="textit">Events editor</SPAN> (Figure
<A HREF="#fig:event_editor">5.47</A>). To open the <SPAN  CLASS="textit">Events editor</SPAN> select the
<SPAN  CLASS="textit">Events</SPAN> <SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN> <SPAN  CLASS="textit">Events editor</SPAN> option. The editor is divided into two
elements. The left side element contains a list of all links. The right side
element contains events configured on the selected link. This dialog allows you
to edit events on that link. To save the event scheduling configuration you
need to click on <SPAN  CLASS="textit">Apply</SPAN> button. The events editor gives you the
possibility to start or stop the event scheduling during experiment execution.
This can be also done from the <SPAN  CLASS="textit">Events</SPAN> menu in the menubar.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:event_editor"></A><A NAME="2206"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.47:</STRONG>
<SPAN  CLASS="textit">Events editor</SPAN></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>	<BR>
<BR>
	<IMG
  WIDTH="604" HEIGHT="375" ALIGN="BOTTOM" BORDER="0"
 SRC="./event_editor.png"
 ALT="Image event_editor"></TD></TR>
</TABLE>
</DIV>

<P>
Each event entry occupies a single line of text, consisting of four fields:
deadline, target parameter, function and function parameters. The first field,
deadline, is specified as an integer number of seconds since experiment
instantiation. The second field, target parameter, may be one of the following:
bandwidth, delay, ber, duplicate, width or color. The remainder of the line is
further parsed as a function. The type of the function is determined by the
leading keyword, which may be either const, ramp, rand or square. When saving
the configuration through the events editor a syntax check will be performed.
If the syntax is wrong the configuration will not be saved and a popup dialog
will show the first line that has a syntax error.

<P>

<H3><A NAME="SECTION00552100000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Const</A>
</H3>
The const function accepts one parameter, the target value. After the deadline
time the parameter will constantly be equal to the target value.

<P>

<H3><A NAME="SECTION00552200000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">2</SPAN> Ramp</A>
</H3>
Behavior of the ramp function is determined by three arguments: initial value,
delta, and period, which are all integers. The first argument represents the
initial function value. The second is the delta value, which may be both
positive or negative, which is added to the previous value of the function at
each period. The third argument is the period, determining how often will the
delta value be added to the current function value.

<P>

<H3><A NAME="SECTION00552300000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">3</SPAN> Rand</A>
</H3>
The rand function is determined by three arguments: lower bound, upper bound,
and period; all of which are integers. The function will assume a random value
between lower and upper bound after each period (in seconds) expires.

<P>

<H3><A NAME="SECTION00552400000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">4</SPAN> Square</A>
</H3>
Finally, the square function has three arguments as well: low value, high
value, and period; all integer numbers. The resulting function will flip from
low value to high and vice versa after each period (in second) expires.

<P>

<H3><A NAME="SECTION00552500000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">5</SPAN> Example</A>
</H3>
The following example illustrates a possible event scheduling scenario that can be entered in the Event editor window (Figure <A HREF="#fig:event_editor">5.47</A>):

<P>

<DIV CLASS="alltt" ALIGN="LEFT">
<TT>
 &nbsp;&nbsp;&nbsp;&nbsp;30 bandwidth ramp 128000 8000 2
<BR>&nbsp;&nbsp;&nbsp;&nbsp;30 delay rand 80000 120000 8
<BR>&nbsp;&nbsp;&nbsp;&nbsp;60 delay square 100000 200000 10
<BR>&nbsp;&nbsp;&nbsp;&nbsp;60 ber const 1
<BR>&nbsp;&nbsp;&nbsp;&nbsp;90 ber const 0
<BR>&nbsp;&nbsp;&nbsp;&nbsp;120 delay const 0
<BR></TT>
</DIV>

<P>
At t = 30 s, bandwidth of the selected link will be set to 128 Kbps, and will
continue to grow at a rate of 8 Kbps each 2 s.

<P>
Also at t = 30 s, the delay will begin assuming a random value between 80 ms
and 120 ms, and will continue to change the setting to new random values in the
same range each 8 s.

<P>
At t = 60 s, the delay will cease to assume random values, and instead it will
begin to oscillate between two discrete values, 100 ms and 200ms, each 10 s.

<P>
Also at t = 60 s, the bit error rate (BER) will be set to 1, resulting in all
frames traversing the link to be silently dropped.

<P>
At t = 90 s, the BER is reset back to 0, allowing for all frames to traverse
the link without artificial losses.

<P>
At t = 120 s, the oscillation of the delay parameter will stop, and delay will
be reset to 0 ms for the rest of the experiment execution time.

<P>
The current time is shown on the status bar after the zoom value. (Figure
<A HREF="node4.html#fig:statusbar_execute">4.17</A>)

<P>

<H2><A NAME="SECTION00553000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">3</SPAN> Configuring events through configuration file</A>
</H2>
<SPAN  CLASS="textbf">NOTE:</SPAN> It is advised to use the Events editor to configure event
scheduling because it includes a syntax check. In the case of configuring
events through configuration file, the wrong syntax will be silently ignored.

<P>
IMUNES experiments are defined via plain-text configuration files, which
currently describe virtual nodes and links, as well as additional objects
related only to GUI visual properties and annotations. The other way to
configure events is manual editing of an existing configuration file.

<P>
The example bellow shows a configuration section describing a virtual link in
an IMUNES experiment. The link l0 connects virtual nodes n0 and n1, has the
bandwidth constraint set to 128 Kbps, and has the thickness of the line
representing the link in the GUI set to 6 pixels. All of the mentioned
properties are directly controllable via the IMUNES GUI. The configuration for
link l0 also includes an empty placeholder for schedulable events, meaning that
no events have been programmed for this link.

<P>

<DIV CLASS="alltt" ALIGN="LEFT">
<TT>
 link l0 {
<BR>&nbsp;&nbsp;&nbsp;&nbsp;width 6
<BR>&nbsp;&nbsp;&nbsp;&nbsp;nodes {n0 n1}
<BR>&nbsp;&nbsp;&nbsp;&nbsp;bandwidth 128000
<BR>&nbsp;&nbsp;&nbsp;&nbsp;<SPAN &nbsp;CLASS="textit">events {</SPAN>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;<SPAN &nbsp;CLASS="textit">}</SPAN>
<BR>}
<BR></TT>
</DIV>

<P>
The events section in the configuration file accepts the same commands as does
the Events editor in the GUI.

<H1><A NAME="SECTION00560000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">6</SPAN> Starting and terminating a simulation through CLI</A>
</H1>
In addition to the <SPAN  CLASS="textit">File<SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN>Open</SPAN> option to open an .imn file and the
<SPAN  CLASS="textit">Experiment<SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN>Execute</SPAN> option used to initiate the virtual network
topology in the GUI, the simulation can be initiated through the command-line
interface (CLI) with the following command:

<P>
<TT># imunes -b simple-network.imn</TT>

<P>
Using IMUNES through GUI, the <SPAN  CLASS="textit">Experiment<SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\to$"></SPAN>Terminate</SPAN> option is used
for shutting down the simulation and cleaning up the virtual network topology
from the kernel. The CLI alternative for the latter is the following command:

<P>
<TT># imunes -b -e experimentId</TT>

<P>
The parameter <TT>exeperimentId</TT> represents the experiment identifier. In
order to get the experiment identifier you can use the <TT>himage</TT> command.
With <TT>himage -l</TT> you will get a list of identifiers of all started
experiments. 

<P>

<H1><A NAME="SECTION00570000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">7</SPAN> Managing virtual nodes (jails) - jls, jexec</A>
</H1>
The FreeBSD jail mechanism allows partitioning of a FreeBSD-based computer
system into several independent smaller systems called jails. This mechanism
enables creation of a safe environment, separate from the rest of the system.
Processes created inside a jail are limited within that jail environment. Each
jail is a virtual environment running on the host machine, having its own file
system, processes, set of users, networking subsystem of the FreeBSD kernel and
a few other things.     

<P>
Two main commands exist in FreeBSD for manging and configuring previously
created jails:

<UL>
<LI><TT>jexec</TT> - executes a command inside an existing jail
</LI>
<LI><TT>jls</TT> - lists jails.
</LI>
</UL>

<P>
A virtual image or vimage is a jail with its own independent network stack
instance.  Every process, socket and network interface present in the system is
always attached to one, and only one, virtual network stack instance (vnet).
During system bootup sequence a default vnet is created to which all the
configured interfaces and user processes are initially attached. 

<P>
The <TT>jexec</TT> command allows for execution of arbitrary processes in a
targeted virtual image.

<P>
<TT>jexec jname command ...</TT> 

<P>
The jexec command starts the selected command and it's arguments in the jail
<TT>jname</TT>.

<P>
To find out the names of started jails the jls command is used: 

<P>
<TT>jls [-hnqsv] [parameter ...]</TT> 

<P>
Since the default jls command doesn't list names of jails a better output is
provided using the command:

<P>
<TT>jls -h jid name host.hostname</TT> 

<P>
Also, the command <TT>jls -v</TT> gives a more detailed output.

<P>

<H2><A NAME="SECTION00571000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</H2>

<P>
Execute the <TT>ifconfig</TT> command in the jail with the jail name
<TT>n1</TT>:

<P>
<TT># jexec n1 ifconfig</TT> 

<P>
Execute the <TT>csh</TT> command in the IMUNES virtual node named <TT>host1</TT>:

<P>
First we need to find out the jail ID or jail name to execute the wanted
command:

<P>
<TT># jls -h jid name host.hostname | grep host1</TT> 

<P>
The first parameter output is the jail ID, the second is the jail name and the
last is the hostname. To execute the command you need the jail ID or jail name:

<P>
<TT># jexec <SPAN  CLASS="textit">jid</SPAN> csh</TT> 

<P>
<TT># jexec <SPAN  CLASS="textit">jname</SPAN> csh</TT> 

<H1><A NAME="SECTION00580000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">8</SPAN> Himage tool</A>
</H1>
The jls and jexec commands can be impractical for creating scripts for
topologies since the output of the jls command is needed for starting the jexec
command. The jexec command can't take the hostname of the jail as an argument,
it can only take the jail name or jail id. The jail name is created from the
IMUNES experiment ID and the node identifier (not hostname). Every experiment
started in IMUNES has a different randomly generated experiment ID to enable
execution of multiple experiments at once.

<P>
IMUNES comes with the <TT>himage</TT> tool that enables the usage of hostnames
when starting commands in virtual nodes. The <TT>himage</TT> tool starts the
jexec command with the appropriate jail name so that the user doesn't have to
search for it. 

<P>
The <TT>himage</TT> command has the following options:

<UL>
<LI><TT>himage vi_hostname command ...</TT> - executes the command in the virtual
node with the specified hostname. If no command is specified, it starts an
interactive shell.
</LI>
<LI><TT>himage -m vi_hostname</TT> - executes the command in the experiment
master jail. If no command is specified, it starts an interactive shell.
</LI>
<LI><TT>himage -v vi_hostname</TT> - gets the jail node name of the virtual
node with the specified hostname
</LI>
<LI><TT>himage -n vi_hostname</TT> - gets the node identifier for the
specified hostname.
</LI>
<LI><TT>himage -e vi_hostname</TT> - gets the experiment ID in which the virtual
node with the specified hostname is running.
</LI>
<LI><TT>himage -j/-i vi_hostname</TT> - gets the jail ID in which the virtual
node with the specified hostname is running.
</LI>
<LI><TT>himage -d</TT> - gets the hostname jail filesystem path on the host
machine.
</LI>
<LI><TT>himage -l</TT> - gets the experiment list with the experiment data.
</LI>
<LI><TT>himage -ln</TT> - gets the experiment list with node names.
</LI>
</UL>

<P>

<H2><A NAME="SECTION00581000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">8</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</H2>

<P>
Example of usage of the command himage on a node with the hostname "pc" to get a
list of running processes:

<P>
<TT># himage pc ps ax</TT> 

<P>
If there are multiple experiments running and there are nodes with the same
hostnames in these experiments the <TT>himage</TT> command accepts the following
node specification where <TT>vi_hostname</TT> is specified as
<TT>hostname@eid</TT>, where eid is the experiments' ID.

<P>
<TT># himage hostname@eid command ...</TT> 

<P>
i.e:

<P>
<TT># himage pc@i3d05a ps ax</TT> 

<P>
where <TT>i3d05a</TT> is the experiment ID of the running experiments. To find
out which experiments are running the <TT>himage -l</TT> command can be used as
well as <TT>jls -h jid name host.hostname</TT>.

<P>
Execute the <TT>ifconfig</TT> command the IMUNES node named <TT>server</TT>:

<P>
<TT># himage server ifconfig</TT>

<P>

<H1><A NAME="SECTION00590000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">9</SPAN> Hcp tool</A>
</H1>

<P>
While the <TT>himage</TT> command is used for running programs inside virtual
nodes the <TT>hcp</TT> is used to copy files directly to the filesystem of
running mobile nodes, thus simplifying deployment of configuration files for
starting various services on virtual nodes.

<P>
Usage of the command <TT>hcp</TT>:

<P>
<TT>hcp [cp_command_options] [vi_hostname1:]filename
[vi_hostname2:]filename</TT> 

<P>
The <TT>hcp</TT> command invokes the cp command with the specified options. If
the <TT>vi_hostname1</TT> is specified the script copies a file from the
virtual node, otherwise it copies a file from the local folders. The second
<TT>vi_hostname2</TT> specifies on which node the first file will be copied, if
not specified the file is copied to the local folders.

<P>
<TT>vi_hostname</TT> is specified in the same way as in the <TT>himage</TT>
command, <TT>hostname</TT> or <TT>hostname@eid</TT>.

<P>

<H2><A NAME="SECTION00591000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">9</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</H2>

<P>
Copy file dhcpd.conf from a local folder to the virtual node DHCP:

<P>
<TT># hcp dhcpd.conf DHCP:/usr/local/etc/</TT> 

<P>
Copy file message.txt from the virtual node PC to a local folder:

<P>
<TT># hcp PC:/root/message.txt .</TT> 

<P>
Copy file index.html from the virtual node HOST to the virtual node HTTP:

<P>
<TT># hcp HOST:/usr/local/www/data/index.html HTTP:/usr/local/www/data/</TT> 

<P>

<H1><A NAME="SECTION005100000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">10</SPAN> Example (himage and hcp)</A>
</H1>

<P>
This is an example of starting an DHCP server through a script with the
provided configuration file dhcpd.conf.

<P>
Kill the server if it's started:

<P>
<TT># himage DHCP killall -9 dhcpd</TT> 

<P>
Copy the configuration file:

<P>
<TT># hcp dhcpd.conf DHCP:/usr/local/etc/</TT> 

<P>
Create the <TT>.leases</TT> file defined in <TT>dhcpd.conf</TT>:

<P>
<TT># himage DHCP touch /var/db/dhcpd.leases</TT> 

<P>
Start the sever with the copied configuration file:

<P>
<TT># himage DHCP dhcpd -cf /usr/local/etc/dhcpd.conf</TT> 

<P>

<H1><A NAME="SECTION005110000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">11</SPAN> Vlink tool</A>
</H1>

<P>
The <TT>vlink</TT> tool is used to change link parameters. The following link parameters are available:

<UL>
<LI>bandwidth (bps, bits-per-second)
</LI>
<LI>bit-error rate, BER (number of bits in which one error will occur)
</LI>
<LI>delay (microseconds)
</LI>
<LI>packet duplication (%, percentage of packets that will be duplicated)
</LI>
</UL>

<P>
A link is identified by the endpoint node names. The link between pc1 and pc2 is identified by <SPAN  CLASS="textit">pc1-pc2</SPAN> or <SPAN  CLASS="textit">pc2-pc1</SPAN>.

<P>
Usage of the command <TT>vlink</TT>:

<P>
<TT>vlink [options] link_name[@eid]</TT> 

<P>

<H2><A NAME="SECTION005111000000000000000">
<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">11</SPAN>.<SPAN CLASS="arabic">1</SPAN> Examples</A>
</H2>

<P>
Setting the bandwidth to 10 Mb/s with a delay of 30 ms to the link connecting <SPAN  CLASS="textit">router1</SPAN> and <SPAN  CLASS="textit">pc1</SPAN>:

<P>
<TT># vlink -bw 10000000 -dly 30000 router1-pc1</TT>

<P>
Generate an error on one bit in a million:

<P>
<TT># vlink -BER 1000000 router1-pc1</TT>

<P>
Set packet duplication to 20
<TT># vlink -dup 20 router1-pc1</TT>

<P>
Modifying a link in a specific experiment (i.e. Experiment ID = i56ad1):

<P>
<TT># vlink -dup 20 router1-pc1@i56ad1</TT>

<P>
To reset the link settings to the default values the -r flag is used:

<P>
<TT># vlink -r router1-pc1@i56ad1</TT>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html297"
  HREF="node6.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html295"
  HREF="html_document.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html289"
  HREF="node4.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html298"
  HREF="node6.html">6. Installation</A>
<B> Up:</B> <A NAME="tex2html296"
  HREF="html_document.html">IMUNES manual</A>
<B> Previous:</B> <A NAME="tex2html290"
  HREF="node4.html">4. Quick Intro</A></DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
