<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2017.2 (Released Jan 23, 2017) -->
<HTML>
<HEAD>
<TITLE>6. Installation</TITLE>
<META NAME="description" CONTENT="6. Installation">
<META NAME="keywords" CONTENT="html_document">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2017.2">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="html_document.css">

<LINK REL="next" HREF="node7.html">
<LINK REL="previous" HREF="node5.html">
<LINK REL="up" HREF="html_document.html">
<LINK REL="next" HREF="node7.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html349"
  HREF="node7.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html347"
  HREF="html_document.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html341"
  HREF="node5.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html350"
  HREF="node7.html">7. Troubleshooting</A>
<B> Up:</B> <A NAME="tex2html348"
  HREF="html_document.html">IMUNES manual</A>
<B> Previous:</B> <A NAME="tex2html342"
  HREF="node5.html">5. Advanced Usage</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html351"
  HREF="node6.html#SECTION00610000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installation of IMUNES on FreeBSD 8</A>
<UL>
<LI><A NAME="tex2html352"
  HREF="node6.html#SECTION00611000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing FreeBSD</A>
<LI><A NAME="tex2html353"
  HREF="node6.html#SECTION00612000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">2</SPAN> Step by step guide through the FreeBSD installation</A>
<LI><A NAME="tex2html354"
  HREF="node6.html#SECTION00613000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installing the FreeBSD X11 system - GUI</A>
<LI><A NAME="tex2html355"
  HREF="node6.html#SECTION00614000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">4</SPAN> Installing IMUNES</A>
<LI><A NAME="tex2html356"
  HREF="node6.html#SECTION00615000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">5</SPAN> Recompiling the FreeBSD kernel with VIMAGE support</A>
<LI><A NAME="tex2html357"
  HREF="node6.html#SECTION00616000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">6</SPAN> Running IMUNES on FreeBSD</A>
</UL>
<BR>
<LI><A NAME="tex2html358"
  HREF="node6.html#SECTION00620000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN> Installation of IMUNES on FreeBSD 9</A>
<UL>
<LI><A NAME="tex2html359"
  HREF="node6.html#SECTION00621000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing FreeBSD</A>
<LI><A NAME="tex2html360"
  HREF="node6.html#SECTION00622000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">2</SPAN> Step by step guide through the FreeBSD installation</A>
<LI><A NAME="tex2html361"
  HREF="node6.html#SECTION00623000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installing the FreeBSD X11 system - GUI</A>
<LI><A NAME="tex2html362"
  HREF="node6.html#SECTION00624000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">4</SPAN> Installing IMUNES</A>
<LI><A NAME="tex2html363"
  HREF="node6.html#SECTION00625000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">5</SPAN> Recompiling the FreeBSD kernel with VIMAGE support</A>
<LI><A NAME="tex2html364"
  HREF="node6.html#SECTION00626000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">6</SPAN> Running IMUNES on FreeBSD</A>
</UL>
<BR>
<LI><A NAME="tex2html365"
  HREF="node6.html#SECTION00630000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installation of IMUNES on FreeBSD 10</A>
<UL>
<LI><A NAME="tex2html366"
  HREF="node6.html#SECTION00631000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing FreeBSD</A>
<LI><A NAME="tex2html367"
  HREF="node6.html#SECTION00632000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">2</SPAN> Step by step guide through the FreeBSD installation</A>
<LI><A NAME="tex2html368"
  HREF="node6.html#SECTION00633000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installing the FreeBSD X11 system - GUI</A>
<LI><A NAME="tex2html369"
  HREF="node6.html#SECTION00634000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">4</SPAN> Installing IMUNES</A>
<LI><A NAME="tex2html370"
  HREF="node6.html#SECTION00635000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">5</SPAN> Recompiling the FreeBSD kernel with VIMAGE support</A>
<LI><A NAME="tex2html371"
  HREF="node6.html#SECTION00636000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">6</SPAN> Running IMUNES on FreeBSD</A>
</UL>
<BR>
<LI><A NAME="tex2html372"
  HREF="node6.html#SECTION00640000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN> Running IMUNES with VMware Player</A>
<UL>
<LI><A NAME="tex2html373"
  HREF="node6.html#SECTION00641000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing VMware</A>
<LI><A NAME="tex2html374"
  HREF="node6.html#SECTION00642000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN> Downloading the VMware image</A>
<LI><A NAME="tex2html375"
  HREF="node6.html#SECTION00643000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN> Running the VMware image</A>
</UL>
<BR>
<LI><A NAME="tex2html376"
  HREF="node6.html#SECTION00650000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">5</SPAN> Installation of the IMUNES GUI on Linux</A>
<LI><A NAME="tex2html377"
  HREF="node6.html#SECTION00660000000000000000"><SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">6</SPAN> Installation of the IMUNES GUI on Windows</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00600000000000000000">
<SPAN CLASS="arabic">6</SPAN>. Installation</A>
</H1>

<P>

<H1><A NAME="SECTION00610000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installation of IMUNES on FreeBSD 8</A>
</H1>

<P>

<H2><A NAME="SECTION00611000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing FreeBSD</A>
</H2>
A comprehensive and explanatory guide for installing configuring and using
FreeBSD can be found here:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html87"
  HREF="http://www.freebsd.org/doc/handbook/">http://www.freebsd.org/doc/handbook/</A></TT>
</DIV>

<P>
Section 2 of the handbook describes the installation of the FreeBSD operating
system: 
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html88"
  HREF="http://www.freebsd.org/doc/handbook/install.html">http://www.freebsd.org/doc/handbook/install.html</A></TT>
</DIV>

<P>
You can choose to install FreeBSD with two different architectures:

<UL>
<LI>i386 - 32-bit - works on most personal computers.
</LI>
<LI>amd64 - 64-bit - works on newer computers that support 64-bit processing.
Adds support for more RAM.
</LI>
</UL>

<P>

<H2><A NAME="SECTION00612000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">2</SPAN> Step by step guide through the FreeBSD installation</A>
</H2>

<OL>
<LI>Insert the FreeBSD-8.2-RELEASE or FreeBSD-8.3-RELEASE (i386 or amd64) 
medium on startup. Boot from it.
</LI>
<LI>Country Selection - Choose your country (e.g. United States). Press
OK.
</LI>
<LI>Main Menu - Choose the "Standard" installation. Press Select.
</LI>
<LI>Message - Press OK.
</LI>
<LI>FDISK Partition Editor - Press C to create a slice:
    
<OL>
<LI>A minimum of 20GB is needed for FreeBSD. Type 20G to create a 20GB
    slice. Press OK.
</LI>
<LI>A screen with the number 165 appears. Press OK.
</LI>
<LI>Position on the created partition (probably named <TT>ad0s1</TT>).
</LI>
<LI>Press S to set the created partition bootable.
    
</LI>
</OL>
</LI>
<LI>FDISK Partition Editor - Position on the "unused" space beneath the
created partiton. Press C to create another slice:
    
<OL>
<LI>A minimum of 5GB is needed for ZFS. Type 5G to create a 5GB slice. Press OK.
</LI>
<LI>A screen with the number 165 appears. Press OK.
</LI>
<LI>Remember the name of this partition (probably named <TT>ad0s2</TT>).
    This name will be later used for configuring ZFS.
    
</LI>
</OL>
</LI>
<LI>FDISK Partition Editor - Press Q to finish.
</LI>
<LI>Boot Manager - Select the "Standard" option. Press OK.
</LI>
<LI>Message - Press OK.
</LI>
<LI>FreeBSD Disklabel Editor - While the partition "ad0s1" (the 20GB one) is
selected press A to automatically distribute system partitions on it.
</LI>
<LI>FreeBSD Disklabel Editor - The result should look similar to this:
    <PRE>
    Part      Mount     Size
    ad0s1a    /       1024MB
    ad0s1b    swap    2006MB
    ad0s1d    /var    5099MB
    ad0s1e    /tmp    1024MB
    ad0s1f    /usr   11326MB
</PRE>
</LI>
<LI>FreeBSD Disklabel Editor - Press Q.
</LI>
<LI>Choose Distributions - Select the "6 User" distribution.
</LI>
<LI>FreeBSD Documentation Installation Menu - Select "en" and then "X Exit".
</LI>
<LI>Ports collection installation - Select "Yes".
</LI>
<LI>Choose Distributions - Select the "X Exit" to exit. Press OK.
</LI>
<LI>Choose Installation Media - Select "1 CD/DVD Install from a FreeBSD CD/DVD".
</LI>
<LI>Continue through the Installation - Select "Yes".
</LI>
<LI>Wait until the installation is over.
</LI>
<LI>Message - Press OK.
</LI>
<LI>Configure any ethernet devices? - Select "Yes".
    
<OL>
<LI>Select the wanted ethernet device, e.g. <TT>em0</TT>.
</LI>
<LI>IPv6 configuration - Select "No".
</LI>
<LI>DHCP configuration - Select "Yes".
</LI>
<LI>Enter the hostname, e.g. IMUNES1.
</LI>
<LI>Select "OK".
    
</LI>
</OL>
</LI>
<LI>Network gateway - Select "No".
</LI>
<LI>Install inetd services - Select "No".
</LI>
<LI>Allow SSH login - Select "Yes".
</LI>
<LI>Allow anonymous FTP access - Select "No".
</LI>
<LI>NFS server - Select "No".
</LI>
<LI>NFS client - Select "No".
</LI>
<LI>Customize system console settings - Select "No".
</LI>
<LI>Set time zone - Select "No".
</LI>
<LI>Configure mouse - Select "No".
</LI>
<LI>Browse package collection - Select "No".
</LI>
<LI>Add additional user accounts - Select "No".
</LI>
<LI>Message - Set root password - Press "OK". Enter password. Re-enter
password.
</LI>
<LI>Visit the general configuration menu - Select "No".
</LI>
<LI>Main Menu - Select the "X Exit Install" option by using the "Tab" key.
</LI>
<LI>Are you sure you want to exit? - Select "Yes".
</LI>
<LI>Message - Reboot - Press "OK".
</LI>
</OL>

<P>

<H2><A NAME="SECTION00613000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installing the FreeBSD X11 system - GUI</A>
</H2>

<P>
Login into the machine as root. Edit the file <TT>/etc/rc.conf</TT> with an editor e.g.
<TT>vi</TT> and add the following lines at the end of the file:
<PRE>
hald_enable="YES"
dbus_enable="YES"
zfs_enable="YES"
</PRE>
Save changes and exit.

<P>
<TT># pkg_add -r xorg bash xpdf vim geany zip unzip xterm firefox</TT>

<P>
You can choose between multiple desktop environments:

<UL>
<LI>Gnome2-lite - complete, user-friendly desktop
<BR><TT># pkg_add -r gnome2-lite</TT>
</LI>
<LI>XFCE 4 - lightweight desktop environment
<BR><TT># pkg_add -r xfce4</TT>
</LI>
<LI>IceWM - extremely lightweight window manager, low resource usage
<BR><TT># pkg_add -r icewm</TT>
</LI>
</UL>

<P>
After the installation of one or multiple window manager we need to configure
which will be used. Edit the file <TT>.xinitrc</TT> in the user folder and add a line
depending on which window manager you want to use:

<UL>
<LI>Gnome2-lite
<BR><TT>exec gnome-session</TT>
</LI>
<LI>XFCE 4
<BR><TT>exec startxfce4</TT>
</LI>
<LI>IceWM
<BR><TT>exec icewm-session</TT>
</LI>
</UL>

<P>
Reboot the machine by issuing the <TT>reboot</TT> command:
<BR><TT># reboot</TT>

<P>
After the machine has rebooted, log in and issue the <TT>startx</TT> command to
start the chosen window manager:
<BR><TT># startx</TT>

<P>

<H2><A NAME="SECTION00614000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">4</SPAN> Installing IMUNES</A>
</H2>

<P>
First we need to install the packages needed for IMUNES. To do this execute the
following command:

<P>
<TT># pkg_add -r tk86 ImageMagick tcllib libimg wireshark</TT>

<P>
After all the packages are installed we need to use the second partition we
prepared during the installation (the one with the size 5GB, probably named
<TT>ad0s2</TT>). This partition will be used to store the data that will be in
the virtual nodes. For this purpose we will create a ZFS pool on the second
partition with the command <TT>zpool create</TT> assuming that the second
partition is named <TT>ad0s2</TT>:

<P>
<TT># zpool create vroot /dev/ad0s2</TT>

<P>
Now we need to fetch the IMUNES source/tarball from the official imunes site:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html89"
  HREF="http://imunes.tel.fer.hr/imunes-1.0.tar.gz">http://imunes.tel.fer.hr/imunes-1.0.tar.gz</A></TT>
</DIV>

<P>
To fetch you can use the firefox browser that we installed earlier or use the
<TT>fetch</TT> command:

<P>
<TT># fetch http://imunes.tel.fer.hr/imunes-1.0.tar.gz</TT>

<P>
To extract the tarball use the following command:

<P>
<TT># tar xf imunes-1.0.tar.gz</TT>

<P>
Enter the extracted directory:

<P>
<TT># cd imunes</TT>

<P>
Now we need to install IMUNES and populate the ZFS file system with predefined
and required data. To install imunes on the system execute:

<P>
<TT># make install</TT>

<P>
To setup the ZFS file system execute:

<P>
<TT># make vroot</TT>

<P>
Both of these commands can be executed together by executing:

<P>
<TT># make</TT>

<P>
Now the IMUNES GUI can be ran just by typing the <TT>imunes</TT> command in the
terminal:

<P>
<TT># imunes</TT>

<P>
The GUI allows the specification of network topologies but to execute
experiments the FreeBSD kernel must be compiled with a few additional options.

<P>

<H2><A NAME="SECTION00615000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">5</SPAN> Recompiling the FreeBSD kernel with VIMAGE support</A>
</H2>

<P>
First, the kernel sources need to be fetched, this can be done by using the
sysinstall utility:

<OL>
<LI>Start the sysinstall utility:
<BR><TT># sysinstall</TT>
</LI>
<LI>Go to "Configure".
</LI>
<LI>Go to "Distributions".
</LI>
<LI>Go to "sys".
</LI>
<LI>Mark "src" by pressing the Space key on it.
</LI>
<LI>Select "X Exit".
</LI>
<LI>Select "X Exit".
</LI>
<LI>Select "Install from an FTP server".
</LI>
<LI>Choose the "Main server" or a server closer to your location.
</LI>
<LI>When the installation is done select press the Esc key until you exit the
sysinstall utility.
</LI>
</OL>

<P>
Now the kernel source is available in the folder <TT>/usr/src/sys</TT>. Enter
that folder:

<P>
<TT># cd /usr/src/sys</TT>

<P>
Depending which distribution architecture you have decided to install, i386 or
amd64 the next command differs.

<P>
For i386 enter the directory <TT>i386/conf</TT>:

<P>
<TT># cd i386/conf</TT>

<P>
For amd64 enter the directory <TT>amd64/conf</TT>:

<P>
<TT># cd amd64/conf</TT>

<P>
With an editor (vi, vim or geany) create a file named <TT>VIMAGE</TT>:

<P>
<TT># vi VIMAGE</TT>

<P>
Insert the following configuration in the <TT>VIMAGE</TT> file:

<P>
<TT>include	GENERIC 
<BR>
nooptions   FLOWTABLE 
<BR>
options	    VIMAGE 
<BR>
options	    VNET_DEBUG 
<BR>
options	    MROUTING 
<BR> 
<BR>
options	    DDB 
<BR>
options	    KDB 
<BR></TT>

<P>
Exit and save the file.

<P>
Now execute the following commands:
<PRE>
# config VIMAGE
# cd ../compile/VIMAGE
# make cleandepend &amp;&amp; make depend
# make
# make install
</PRE>

<P>
When the last command ends use the <TT>reboot</TT> command to restart the
computer:

<P>
<TT># reboot</TT>

<P>

<H2><A NAME="SECTION00616000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN>.<SPAN CLASS="arabic">6</SPAN> Running IMUNES on FreeBSD</A>
</H2>

<P>
After login execute the <TT>startx</TT> command to start the window manager.
Open a terminal and start imunes:

<P>
<TT># imunes</TT>

<P>
Now you can create an arbitrary network topology or something like shown in
Figure <A HREF="node4.html#fig:simple_topology">4.1</A> and execute the experiment.

<P>

<H1><A NAME="SECTION00620000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN> Installation of IMUNES on FreeBSD 9</A>
</H1>

<P>

<H2><A NAME="SECTION00621000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing FreeBSD</A>
</H2>
A comprehensive and explanatory guide for installing configuring and using
FreeBSD can be found here:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html90"
  HREF="http://www.freebsd.org/doc/handbook/">http://www.freebsd.org/doc/handbook/</A></TT>
</DIV>

<P>
Section 2 of the handbook describes the installation of the FreeBSD operating
system: 
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html91"
  HREF="http://www.freebsd.org/doc/handbook/bsdinstall-start.html">http://www.freebsd.org/doc/handbook/bsdinstall-start.html</A></TT>
</DIV>

<P>
You can choose to install FreeBSD with two different architectures:

<UL>
<LI>i386 - 32-bit - works on most personal computers.
</LI>
<LI>amd64 - 64-bit - works on newer computers that support 64-bit processing.
Adds support for more RAM.
</LI>
</UL>

<P>

<H2><A NAME="SECTION00622000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">2</SPAN> Step by step guide through the FreeBSD installation</A>
</H2>

<OL>
<LI>Insert the FreeBSD-9.2-RELEASE or FreeBSD-9.3-RELEASE (i386 or amd64) medium on startup. Boot from it.
</LI>
<LI>Welcome - Choose "Install".
</LI>
<LI>Keymap Selection
	
<OL>
<LI>FreeBSD 9.3 - Press "Select" to "Continue with default keymap" or choose an alternative one.
</LI>
<LI>FreeBSD 9.2 - If you use a non-default key mapping for your keyboard, choose "Yes" and find your keyboard. Otherwise, choose "No".
	
</LI>
</OL>
</LI>
<LI>Set Hostname - Set the hostname for your newly installed system (e.g. "imunes").
</LI>
<LI>Distribution Select - Select "src" and "lib32" (only on amd64 architecture) and deselect "games" and "ports".
</LI>
<LI>Partitioning - choose Guided or Manual
	
<UL>
<LI>Guided - Choose a disk from the list (e.g. "ada0"). Select "Entire Disk". In the Confirmation window choose "Yes" to erase the entire disk. In the "Partition Editor" review the changes. 	After finishing partitioning, choose "Finish" and then "Commit".
</LI>
<LI>Manual - example for manual partitioning for a 40GB slice:
	    <PRE>
	    Part        Type            Mount   Size
	    ada0p1      freebsd-boot            64kB
	    ada0p2      freebsd-ufs     /        2GB
	    ada0p3      freebsd-ufs     /var     8GB
	    ada0p4      freebsd-ufs     /tmp     4GB
	    ada0p5      freebsd-ufs     /usr    24GB
	    ada0p6      freebsd-swap    none     2GB
</PRE>
</LI>
</UL>
	After finishing partitioning, choose "Finish" and then "Commit".
NOTE: freebsd-boot boot partition will be created upon creation of the first freebsd-ufs partition.
</LI>
<LI>Archive extraction - Wait for the installation to complete.
</LI>
<LI>FreeBSD Installer - Enter your system administrator (root) password. Repeat the password.
</LI>
<LI>Network Configuration - Choose a network interface to configure (if any available).
	
<OL>
<LI>Select "Yes" to configure IPv4 network if you use it. Then select "Yes" to configure DHCP if you use it.
</LI>
<LI>Select "Yes" to configure IPv6 network if you use it. Then select "Yes" to configure SLAAC if you use it.
</LI>
<LI>Resolver Configuration - If DHCP/SLAAC is used to configure the interface, some values may already be present. Otherwise, enter them yourself.
	
</LI>
</OL>
</LI>
<LI>Timezones - If your timezone is not UTC, select "No" and choose your region and country (e.g. Europe-&gt;Croatia) and select "Yes" if asked for confirmation.
</LI>
<LI>System Configuration
	
<OL>
<LI>FreeBSD 9.3 - Choose the "sshd" service to be started at boot and select "dumpdev" to enable crash dumps in /var.
</LI>
<LI>FreeBSD 9.2 - Choose the "sshd" service to be started at boot.
	
</LI>
</OL>
</LI>
<LI>(FreeBSD 9.2 only) Dumpdev Configuration - Select "Yes" for enabling crash dumps in /var folder.
</LI>
<LI>Add User Accounts - If necessary, add additional users now.
</LI>
<LI>Final Configuration - Choose "Exit".
</LI>
<LI>Manual Configuration - Nothing else is needed, so choose "No" to skip manual configuration.
</LI>
<LI>Complete - Reboot. (Don't forget to remove your FreeBSD boot media.)
</LI>
</OL>

<P>

<H2><A NAME="SECTION00623000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installing the FreeBSD X11 system - GUI</A>
</H2>

<P>
Login into the machine as root. Edit the file <TT>/etc/rc.conf</TT> with an editor e.g.
<TT>vi</TT> and add the following lines at the end of the file:
<PRE>
hald_enable="YES"
dbus_enable="YES"
</PRE>
Save changes and exit.

<P>
<TT># pkg_add -r xorg bash xpdf vim geany zip unzip xterm firefox subversion</TT>

<P>
You can choose between multiple desktop environments:

<UL>
<LI>Gnome2-lite - complete, user-friendly desktop
<BR><TT># pkg_add -r gnome2-lite</TT>
</LI>
<LI>XFCE 4 - lightweight desktop environment
<BR><TT># pkg_add -r xfce4</TT>
</LI>
<LI>IceWM - extremely lightweight window manager, low resource usage
<BR><TT># pkg_add -r icewm</TT>
</LI>
</UL>

<P>
After the installation of one or multiple window manager we need to configure
which will be used. Edit the file <TT>.xinitrc</TT> in the user folder and add a line
depending on which window manager you want to use:

<UL>
<LI>Gnome2-lite
<BR><TT>exec gnome-session</TT>
</LI>
<LI>XFCE 4
<BR><TT>exec startxfce4</TT>
</LI>
<LI>IceWM
<BR><TT>exec icewm-session</TT>
</LI>
</UL>

<P>
Reboot the machine by issuing the <TT>reboot</TT> command:
<BR><TT># reboot</TT>

<P>
After the machine has rebooted, log in and issue the <TT>startx</TT> command to
start the chosen window manager:
<BR><TT># startx</TT>

<P>

<H2><A NAME="SECTION00624000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">4</SPAN> Installing IMUNES</A>
</H2>

<P>
First we need to install the packages needed for IMUNES. To do this execute the
following command:

<P>
<TT># pkg_add -r tk86 ImageMagick tcllib wireshark socat gmake</TT>

<P>
Now we need to fetch the IMUNES source/tarball from the official imunes site:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html92"
  HREF="http://imunes.tel.fer.hr/imunes-1.0.tar.gz">http://imunes.tel.fer.hr/imunes-1.0.tar.gz</A></TT>
</DIV>

<P>
To fetch you can use the firefox browser that we installed earlier or use the
<TT>fetch</TT> command. Then extract the tarball and enter the directory:

<P>
<TT># fetch http://imunes.tel.fer.hr/imunes-1.0.tar.gz</TT>
<BR><TT># tar xf imunes-1.0.tar.gz</TT>
<BR><TT># cd imunes_<SPAN  CLASS="textit">version</SPAN></TT>

<P>
Alternatively, you could checkout the last fresh IMUNES source through the
public SVN repository:

<P>
<TT># svn co svn://imunes.tel.fer.hr/head/ imunes</TT>
<BR><TT># cd imunes</TT>

<P>
Now we need to install IMUNES and populate the virtual file system with predefined and required data. To install imunes on the system execute:

<P>
<TT># make install</TT>

<P>
To setup the virtual file system execute:

<P>
<TT># make vroot</TT>

<P>
Both of these commands can be executed together by executing:

<P>
<TT># make</TT>

<P>
Now the IMUNES GUI can be ran just by typing the <TT>imunes</TT> command in the
terminal:

<P>
<TT># imunes</TT>

<P>
The GUI allows the specification of network topologies but to execute
experiments the FreeBSD kernel must be compiled with a few additional options.

<P>

<H2><A NAME="SECTION00625000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">5</SPAN> Recompiling the FreeBSD kernel with VIMAGE support</A>
</H2>

<P>
If you didn't include the src option in step 4 while installing FreeBSD, the
kernel sources need to be fetched. Use your selected architecture and release combination:

<P>
<TT># fetch ftp://ftp.freebsd.org/pub/FreeBSD/releases/<SPAN  CLASS="textit">arch</SPAN>/<SPAN  CLASS="textit">release</SPAN>/src.txz</TT>

<P>
e.g. for FreeBSD 9.2 with amd64 architecture use:

<P>
<TT># fetch ftp://ftp.freebsd.org/pub/FreeBSD/releases/amd64/9.2-RELEASE/src.txz</TT>

<P>
Extract it by using:

<P>
<TT># tar xf src.txz -C /</TT>

<P>
Now the kernel source is available in the folder <TT>/usr/src/sys</TT>. Enter
that folder:

<P>
<TT># cd /usr/src/sys</TT>

<P>
Depending which distribution architecture you have decided to install, i386 or
amd64 the next command differs.

<P>
For i386 enter the directory <TT>i386/conf</TT>:

<P>
<TT># cd i386/conf</TT>

<P>
For amd64 enter the directory <TT>amd64/conf</TT>:

<P>
<TT># cd amd64/conf</TT>

<P>
With an editor (vi, vim or geany) create a file named <TT>VIMAGE</TT>:

<P>
<TT># vi VIMAGE</TT>

<P>
Insert the following configuration in the <TT>VIMAGE</TT> file:

<P>
<TT>include	GENERIC 
<BR>
nooptions FLOWTABLE 
<BR>
options VIMAGE 
<BR>
options VNET_DEBUG 
<BR>
options MROUTING 
<BR> 
<BR>
options IPSEC 
<BR>
device crypto 
<BR>
options IPSEC_DEBUG 
<BR> 
<BR>
options DDB 
<BR>
options KDB 
<BR></TT>

<P>
Exit and save the file.

<P>
Now execute the following commands:
<PRE>
# config VIMAGE
# cd ../compile/VIMAGE
# make cleandepend &amp;&amp; make depend
# make
# make install
</PRE>

<P>
When the last command ends use the <TT>reboot</TT> command to restart the
computer:

<P>
<TT># reboot</TT>

<P>

<H2><A NAME="SECTION00626000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">6</SPAN> Running IMUNES on FreeBSD</A>
</H2>

<P>
After login execute the <TT>startx</TT> command to start the window manager.
Open a terminal and start imunes:

<P>
<TT># imunes</TT>

<P>
Now you can create an arbitrary network topology or something like shown in
Figure <A HREF="node4.html#fig:simple_topology">4.1</A> and execute the experiment.

<P>

<H1><A NAME="SECTION00630000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installation of IMUNES on FreeBSD 10</A>
</H1>

<P>

<H2><A NAME="SECTION00631000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing FreeBSD</A>
</H2>
A comprehensive and explanatory guide for installing configuring and using
FreeBSD can be found here:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html93"
  HREF="http://www.freebsd.org/doc/handbook/">http://www.freebsd.org/doc/handbook/</A></TT>
</DIV>

<P>
Section 2 of the handbook describes the installation of the FreeBSD operating
system: 
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html94"
  HREF="http://www.freebsd.org/doc/handbook/bsdinstall-start.html">http://www.freebsd.org/doc/handbook/bsdinstall-start.html</A></TT>
</DIV>

<P>
You can choose to install FreeBSD with two different architectures:

<UL>
<LI>i386 - 32-bit - works on most personal computers.
</LI>
<LI>amd64 - 64-bit - works on newer computers that support 64-bit processing.
Adds support for more RAM.
</LI>
</UL>

<P>

<H2><A NAME="SECTION00632000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">2</SPAN> Step by step guide through the FreeBSD installation</A>
</H2>

<OL>
<LI>Insert the FreeBSD-10.x-RELEASE (i386 or amd64) medium on startup. Boot from it.
</LI>
<LI>Welcome - Choose "Install".
</LI>
<LI>Keymap Selection - Press "Select" to "Continue with default keymap" or choose an alternative one.
</LI>
<LI>Set Hostname - Set the hostname for your newly installed system (e.g. "imunes").
</LI>
<LI>Distribution Select - Select "src" and "lib32" (only on amd64 architecture) and deselect "games" and "ports".
</LI>
<LI>Partitioning - choose Auto or Manual
	
<UL>
<LI>Auto - Choose a disk from the list (e.g. "ada0"). Select "Entire Disk". In the Confirmation window choose "Yes" to erase the entire disk. In the "Partition Editor" review the changes. After finishing partitioning, choose "Finish" and then "Commit".
</LI>
<LI>Manual - example for manual partitioning for a 40GB slice:
	    <PRE>
	    Part        Type            Mount   Size
	    ada0p1      freebsd-boot            64kB
	    ada0p2      freebsd-ufs     /        4GB
	    ada0p3      freebsd-ufs     /var    10GB
	    ada0p4      freebsd-ufs     /usr    24GB
	    ada0p5      freebsd-swap    none     2GB
</PRE>
</LI>
</UL>
	After finishing partitioning, choose "Finish" and then "Commit".
NOTE: freebsd-boot boot partition will be created upon creation of the first freebsd-ufs partition.
</LI>
<LI>Archive extraction - Wait for the installation to complete.
</LI>
<LI>FreeBSD Installer - Enter your system administrator (root) password. Repeat the password.
</LI>
<LI>Network Configuration - Choose a network interface to configure (if any available).
	
<OL>
<LI>Select "Yes" to configure IPv4 network if you use it. Then select "Yes" to configure DHCP if you use it.
</LI>
<LI>Select "Yes" to configure IPv6 network if you use it. Then select "Yes" to configure SLAAC if you use it.
</LI>
<LI>Resolver Configuration - If DHCP/SLAAC is used to configure the interface, some values may already be present. Otherwise, enter them yourself.
	
</LI>
</OL>
</LI>
<LI>Timezones - If your timezone is not UTC, select "No" and choose your region and country (e.g. Europe-&gt;Croatia) and select "Yes" if asked for confirmation.
</LI>
<LI>System Configuration - Choose the "sshd" service to be started at boot and select "dumpdev" to enable crash dumps in /var.
</LI>
<LI>Add User Accounts - If necessary, add additional users now.
</LI>
<LI>Final Configuration - Choose "Exit".
</LI>
<LI>Manual Configuration - Nothing else is needed, so choose "No" to skip manual configuration.
</LI>
<LI>Complete - Reboot. (Don't forget to remove your FreeBSD boot media.)
</LI>
</OL>

<P>

<H2><A NAME="SECTION00633000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">3</SPAN> Installing the FreeBSD X11 system - GUI</A>
</H2>

<P>
Login into the machine as root. Edit the file <TT>/etc/rc.conf</TT> with an editor e.g.
<TT>vi</TT> and add the following lines at the end of the file:
<PRE>
hald_enable="YES"
dbus_enable="YES"
</PRE>
Save changes and exit.

<P>
If necessary, bootstrap pkg:
<BR><TT># env ASSUME_ALWAYS_YES=YES pkg bootstrap</TT>

<P>
Install neccessary packages:
<BR><TT># pkg install xorg bash xpdf vim geany zip unzip xterm firefox wget</TT>

<P>
You can choose between multiple desktop environments:

<UL>
<LI>Gnome3-lite - complete, user-friendly desktop
<BR><TT># pkg install gnome3-lite</TT>
</LI>
<LI>XFCE 4 - lightweight desktop environment
<BR><TT># pkg install xfce</TT>
</LI>
<LI>IceWM - extremely lightweight window manager, low resource usage
<BR><TT># pkg install icewm</TT>
</LI>
</UL>

<P>
After the installation of one or multiple window manager we need to configure
which will be used. Edit the file <TT>.xinitrc</TT> in the user folder and add a line
depending on which window manager you want to use:

<UL>
<LI>Gnome3-lite
<BR><TT>exec gnome-session</TT>
</LI>
<LI>XFCE 4
<BR><TT>exec startxfce4</TT>
</LI>
<LI>IceWM
<BR><TT>exec icewm-session</TT>
</LI>
</UL>

<P>
Reboot the machine by issuing the <TT>reboot</TT> command:
<BR><TT># reboot</TT>

<P>
After the machine has rebooted, log in and issue the <TT>startx</TT> command to
start the chosen window manager:
<BR><TT># startx</TT>

<P>

<H2><A NAME="SECTION00634000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">4</SPAN> Installing IMUNES</A>
</H2>

<P>
First we need to install the packages needed for IMUNES. To do this execute the
following command:
<BR><TT># pkg install tk86 ImageMagick tcllib wireshark socat git gmake</TT>

<P>
Checkout the last fresh IMUNES source through the public github repository:
<BR><TT># git clone https://github.com/imunes/imunes.git</TT>

<P>
Now we need to install IMUNES and populate the virtual file system with
predefined and required data. To install IMUNES on the system execute:
<BR><TT># cd imunes</TT>
<BR><TT># make install</TT>

<P>
To setup the virtual file system execute:
<BR><TT># imunes -p</TT>

<P>
Now the IMUNES GUI can be ran just by typing the <TT>imunes</TT> command in the
terminal:
<BR><TT># imunes</TT>

<P>
The GUI allows the specification of network topologies but to execute
experiments the FreeBSD kernel must be compiled with a few additional options.

<P>

<H2><A NAME="SECTION00635000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">5</SPAN> Recompiling the FreeBSD kernel with VIMAGE support</A>
</H2>

<P>
If you didn't include the src option in step 4 while installing FreeBSD, the
kernel sources need to be fetched. Use your selected architecture and release combination:
<BR><TT># fetch ftp://ftp.freebsd.org/pub/FreeBSD/releases/<SPAN  CLASS="textit">arch</SPAN>/<SPAN  CLASS="textit">release</SPAN>/src.txz</TT>

<P>
e.g. for FreeBSD 10.1 with amd64 architecture use:
<BR><TT># fetch ftp://ftp.freebsd.org/pub/FreeBSD/releases/amd64/10.1-RELEASE/src.txz</TT>

<P>
Extract it by using:
<BR><TT># tar xf src.txz -C /</TT>

<P>
Now the kernel source is available in the folder <TT>/usr/src/sys</TT>. Enter
that folder:
<BR><TT># cd /usr/src/sys</TT>

<P>
Depending which distribution architecture you have decided to install, i386 or
amd64 the next command differs.

<P>
For i386 enter the directory <TT>i386/conf</TT>:
<BR><TT># cd i386/conf</TT>

<P>
For amd64 enter the directory <TT>amd64/conf</TT>:
<BR><TT># cd amd64/conf</TT>

<P>
With an editor (vi, vim or geany) create a file named <TT>VIMAGE</TT>:
<BR><TT># vi VIMAGE</TT>

<P>
Insert the following configuration in the <TT>VIMAGE</TT> file:
<BR><TT>include	GENERIC 
<BR>
nooptions FLOWTABLE 
<BR>
nooptions SCTP 
<BR>
options VIMAGE 
<BR>
options VNET_DEBUG 
<BR>
options DDB 
<BR> 
<BR>
options IPSEC 
<BR>
device crypto 
<BR>
options IPSEC_DEBUG 
<BR>
options IPSEC_NAT_T 
<BR> 
<BR></TT>

<P>
Exit and save the file.

<P>
Now execute the following commands:
<PRE>
# config VIMAGE
# cd ../compile/VIMAGE
</PRE>

<P>
If your machine has multiple cores, you can use the -j flag to distribute the make
process on a number of cores. For example, to use 4 cores, run:
<PRE>
# make -j4 depend
# make -j4
# make install
</PRE>

<P>
If you're running FreeBSD on a single core machine, just use the standard make
commands:
<PRE>
# make depend
# make
# make install
</PRE>

<P>
When the last command ends use the <TT>reboot</TT> command to restart the
computer: 
<BR><TT># reboot</TT>

<P>

<H2><A NAME="SECTION00636000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">6</SPAN> Running IMUNES on FreeBSD</A>
</H2>

<P>
After login execute the <TT>startx</TT> command to start the window manager.
Open a terminal and start imunes:

<P>
<TT># imunes</TT>

<P>
Now you can create an arbitrary network topology or something like shown in
Figure <A HREF="node4.html#fig:simple_topology">4.1</A> and execute the experiment.

<P>

<H1><A NAME="SECTION00640000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN> Running IMUNES with VMware Player</A>
</H1>

<P>
We also have a VMware image containing the FreeBSD operating system including a
complete and working installation of IMUNES.

<P>

<H2><A NAME="SECTION00641000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN> Installing VMware</A>
</H2>
To run the image VMware Player (or any other similar VMware product) needs to be
installed. VMware player can be downloaded from the following address (after
registration with VMware):
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html95"
  HREF="http://www.vmware.com/products/player/">http://www.vmware.com/products/player/</A></TT>
</DIV>
The installation procedure is clearly explained in the VMware "Getting Started
Guide" (<TT><A NAME="tex2html96"
  HREF="http://www.vmware.com/pdf/vmware_player310.pdf">http://www.vmware.com/pdf/vmware_player310.pdf</A></TT>)

<P>

<H2><A NAME="SECTION00642000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN> Downloading the VMware image</A>
</H2>
The VWware image can be downloaded
from the following address:
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html97"
  HREF="http://imunes.tel.fer.hr/imunes/dl/index.html">http://imunes.tel.fer.hr/imunes/dl/index.html</A></TT>
</DIV>
There are two archives, one in the RAR format and other in the ZIP format. They
both contain the same image but the RAR file is considerably smaller. Download
one of them and then unpack the contents of the archive in a folder with enough
space (The unpacked image is almost 2.3GB large, but for runtime execution 4GB
is needed.)

<P>

<H2><A NAME="SECTION00643000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN> Running the VMware image</A>
</H2>
After the image is extracted go into the image directory. There shpuld be two
files, a <TT>vmdk</TT> file containing the disk image and a <TT>vmx</TT> file
containing the VMware machine settings. Double-clicking the <TT>vmx</TT> file
will open the VMware Player and start booting the image. A window will pop-up
asking you wheter you moved or copied the image. Select the option "I copied it"
and click on the "OK" button.

<P>
After a few minutes FreeBSD with the graphical interface will start. On the
desktop there is an IMUNES icon to start IMUNES.

<P>

<H1><A NAME="SECTION00650000000000000000"></A>
<A NAME="sec:installation_on_linux"></A>
<BR>
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">5</SPAN> Installation of the IMUNES GUI on Linux
</H1>
<SPAN  CLASS="textbf">NOTE:</SPAN> Although you can draw network topology on any system that
supports Tcl/Tk (Linux, FreeBSD, Windows, Mac OS X, Solaris), an  experiment
can only be started on FreeBSD operation system with root permissions (Figure
<A HREF="node4.html#fig:execute_windows">4.15</A> and Figure  <A HREF="node4.html#fig:execute_not_root">4.16</A>)!.

<P>
The first thing you need to do is install Tcl/Tk. The easiest way to do this is
using ActiveState ActiveTcl 8.6. To download the installation files visit:
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html98"
  HREF="http://www.activestate.com/activetcl/downloads">http://www.activestate.com/activetcl/downloads</A></TT>
</DIV>

<P>
Download the version 8.6, as IMUNES cannot run on earlier versions. Download
the version that is designed for your operating system: x86 if you're using
32bit Linux or x86_64 if you're using 64bit Linux. Select the option <SPAN  CLASS="textit">AS
package</SPAN>.

<P>
When the package is downloaded extract it using an archive manager or through
the shell with the command:

<P>
<TT># tar xzvf filename.tar.gz</TT>

<P>
Now enter the extracted directory and execute the file <TT>install.sh</TT> with
root permissions. In the shell this is done with the line

<P>
<TT># sudo ./install.sh</TT> 

<P>
and provide the superuser password. If you don't have superuser permissions you
can install ActiveTcl in your user directory. Make a directory in which
ActiveTcl will be installed, and during the installation provide the path to
that directory. After the installation you just need to put the ActiveTcl bin
directory in the PATH variable.

<P>
For a csh or compatible (tcsh) perform:

<P>
<TT># setenv PATH "/opt/ActiveTcl/bin:$PATH"</TT>

<P>
For a sh or similar perform:

<P>
<TT># PATH="/opt/ActiveTcl/bin:$PATH"</TT>

<P>
<TT># export PATH</TT>

<P>
To make the changes permanent add this lines to your shell rc configuration
file (e.g. .bashrc for bash, .cshrc for csh).

<P>
To run IMUNES with full functionality you need the <TT>imagemagick</TT>
package. You can install it through package managers or through shell.

<P>
On Debian, Ubuntu and other Debian based distributions you will use:

<P>
<TT># sudo apt-get install imagemagick</TT>

<P>
On Fedora, Red Hat and other Red Hat based distributions you will use:

<P>
<TT># su</TT>

<P>
<TT># yum install imagemagick</TT>

<P>
Now we can fetch the latest version of IMUNES through CVS. To do this you need
to have the <TT>cvs</TT> package installed. This is done the same way as the
ImageMagick installation:

<P>
<TT># sudo apt-get install cvs</TT>

<P>
or

<P>
<TT># su</TT>

<P>
<TT># yum install cvs</TT>

<P>
The line for fetching IMUNES from CVS is as follows:

<P>
<TT># cvs -d :pserver:anonymous@imunes.net/usr/local/src/cvsroot co
imunes</TT>

<P>
Now enter the imunes directory and start IMUNES:

<P>
<TT># cd imunes</TT>

<P>
<TT># ./imunes</TT>

<P>

<H1><A NAME="SECTION00660000000000000000">
<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">6</SPAN> Installation of the IMUNES GUI on Windows</A>
</H1>
<SPAN  CLASS="textbf">NOTE:</SPAN> Although you can draw network topology on any system that
supports Tcl/Tk (Linux, FreeBSD, Windows, Mac OS X, Solaris), an  experiment
can only be started on FreeBSD operation system with root permissions (Figure
<A HREF="node4.html#fig:execute_windows">4.15</A> and Figure  <A HREF="node4.html#fig:execute_not_root">4.16</A>)!.

<P>
The first thing you need to do is install Tcl/Tk. The easiest way to do this is
using ActiveState ActiveTcl 8.6. To download the installation files visit:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html99"
  HREF="http://www.activestate.com/activetcl/downloads">http://www.activestate.com/activetcl/downloads</A></TT>
</DIV>

<P>
Download the version 8.6, as IMUNES cannot run on earlier versions. Download
the package by clicking on the <SPAN  CLASS="textit">Windows Installer (EXE)</SPAN> option. When the
file is downloaded start the installation by double clicking on the file.
Follow the installation instructions to the end.

<P>
Now, to enable the full functionality of IMUNES you need to download the
ImageMagick program from:

<P>
<DIV ALIGN="CENTER">
<TT><A NAME="tex2html100"
  HREF="http://www.imagemagick.org/script/binary-releases.php">http://www.imagemagick.org/script/binary-releases.php</A></TT>
</DIV>

<P>
Go to the <SPAN  CLASS="textit">Windows Binary Release</SPAN> section. Select the appropriate file.
Download it and install it following the installation instructions.

<P>
To start IMUNES you need the latest IMUNES release. If you have access to a
Unix/Linux system you can download it like it is shown at the end of the
previous section (Section <A HREF="#sec:installation_on_linux">6.5</A>). Then transfer it on
the Windows machine.

<P>
Enter the imunes directory and double click the file <TT>imunes.tcl</TT> to
start IMUNES.
   

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html349"
  HREF="node7.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html347"
  HREF="html_document.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html341"
  HREF="node5.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html350"
  HREF="node7.html">7. Troubleshooting</A>
<B> Up:</B> <A NAME="tex2html348"
  HREF="html_document.html">IMUNES manual</A>
<B> Previous:</B> <A NAME="tex2html342"
  HREF="node5.html">5. Advanced Usage</A></DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
